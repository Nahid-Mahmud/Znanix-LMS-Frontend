(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let i=e.r(745643);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw Object.defineProperty(new i.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},724740,(e,t,r)=>{"use strict";function i(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return i}})},540899,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return n}});let i=e.r(765830),a=e.r(914931),o=e.r(340129),s=e.r(724740);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=o.workAsyncStorage.getStore();if(void 0===r)return null;let n=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;n.push(...t)}}return 0===n.length?null:(0,i.jsx)(i.Fragment,{children:n.map(e=>{let t=r.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,i.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},984045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return d}});let i=e.r(765830),a=e.r(906943),o=e.r(41589),s=e.r(540899);function n(e){return{default:e&&"default"in e?e.default:e}}let l={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...l,...e},r=(0,a.lazy)(()=>t.loader().then(n)),d=t.loading;function u(e){let n=d?(0,i.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,l=!t.ssr||!!t.loading,u=l?a.Suspense:a.Fragment,c=t.ssr?(0,i.jsxs)(i.Fragment,{children:["undefined"==typeof window?(0,i.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,i.jsx)(r,{...e})]}):(0,i.jsx)(o.BailoutToCSR,{reason:"next/dynamic",children:(0,i.jsx)(r,{...e})});return(0,i.jsx)(u,{...l?{fallback:n}:{},children:c})}return u.displayName="LoadableComponent",u}},969726,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return a}});let i=e.r(481258)._(e.r(984045));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let o={...a,...t};return(0,i.default)({...o,modules:null==(r=o.loadableGenerated)?void 0:r.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},798794,e=>{"use strict";e.s(["useCreateModuleVideoMutation",()=>t,"useDeleteModuleVideoMutation",()=>s,"useGetModuleVideoByIdQuery",()=>a,"useUpdateModuleVideoMutation",()=>o]);let{useCreateModuleVideoMutation:t,useGetAllModuleVideosQuery:r,useGetVideosByModuleIdQuery:i,useGetModuleVideoByIdQuery:a,useUpdateModuleVideoMutation:o,useDeleteModuleVideoMutation:s}=e.i(938908).baseApi.injectEndpoints({endpoints:e=>({createModuleVideo:e.mutation({query:e=>({url:"/module-videos",method:"POST",data:e}),invalidatesTags:["Course","CourseModule","ModuleVideo"]}),getAllModuleVideos:e.query({query:e=>({url:"/module-videos",method:"GET",params:e}),providesTags:["Course","CourseModule","ModuleVideo"]}),getVideosByModuleId:e.query({query:e=>({url:"/module-videos/module/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),getModuleVideoById:e.query({query:e=>({url:"/module-videos/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),updateModuleVideo:e.mutation({query:e=>{let{data:t,videoId:r}=e;return{url:"/module-videos/".concat(r),method:"PATCH",data:t}},invalidatesTags:["Course","CourseModule","ModuleVideo"]}),deleteModuleVideo:e.mutation({query:e=>({url:"/module-videos/".concat(e),method:"DELETE"}),invalidatesTags:["Course","CourseModule","ModuleVideo"]})})})},92964,e=>{"use strict";e.s(["usePrevious",()=>r]);var t=e.i(906943);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},59497,e=>{"use strict";e.s(["Checkbox",()=>N],59497);var t=e.i(765830),r=e.i(906943),i=e.i(802183),a=e.i(212028),o=e.i(291967),s=e.i(919433),n=e.i(92964),l=e.i(10057),d=e.i(554007),u=e.i(984157),c="Checkbox",[m,f]=(0,a.createContextScope)(c),[p,h]=m(c);function x(e){let{__scopeCheckbox:i,checked:a,children:o,defaultChecked:n,disabled:l,form:d,name:u,onCheckedChange:m,required:f,value:h="on",internal_do_not_use_render:x}=e,[b,v]=(0,s.useControllableState)({prop:a,defaultProp:null!=n&&n,onChange:m,caller:c}),[g,j]=r.useState(null),[y,C]=r.useState(null),k=r.useRef(!1),V=!g||!!d||!!g.closest("form"),M={checked:b,disabled:l,setChecked:v,control:g,setControl:j,name:u,form:d,value:h,hasConsumerStoppedPropagationRef:k,required:f,defaultChecked:!F(n)&&n,isFormControl:V,bubbleInput:y,setBubbleInput:C};return(0,t.jsx)(p,{scope:i,...M,children:"function"==typeof x?x(M):o})}var b="CheckboxTrigger",v=r.forwardRef((e,a)=>{let{__scopeCheckbox:s,onKeyDown:n,onClick:l,...d}=e,{control:c,value:m,disabled:f,checked:p,required:x,setControl:v,setChecked:g,hasConsumerStoppedPropagationRef:j,isFormControl:y,bubbleInput:C}=h(b,s),k=(0,i.useComposedRefs)(a,v),M=r.useRef(p);return r.useEffect(()=>{let e=null==c?void 0:c.form;if(e){let t=()=>g(M.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,g]),(0,t.jsx)(u.Primitive.button,{type:"button",role:"checkbox","aria-checked":F(p)?"mixed":p,"aria-required":x,"data-state":V(p),"data-disabled":f?"":void 0,disabled:f,value:m,...d,ref:k,onKeyDown:(0,o.composeEventHandlers)(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,o.composeEventHandlers)(l,e=>{g(e=>!!F(e)||!e),C&&y&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())})})});v.displayName=b;var g=r.forwardRef((e,r)=>{let{__scopeCheckbox:i,name:a,checked:o,defaultChecked:s,required:n,disabled:l,value:d,onCheckedChange:u,form:c,...m}=e;return(0,t.jsx)(x,{__scopeCheckbox:i,checked:o,defaultChecked:s,disabled:l,required:n,onCheckedChange:u,name:a,form:c,value:d,internal_do_not_use_render:e=>{let{isFormControl:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...m,ref:r,__scopeCheckbox:i}),a&&(0,t.jsx)(k,{__scopeCheckbox:i})]})}})});g.displayName=c;var j="CheckboxIndicator",y=r.forwardRef((e,r)=>{let{__scopeCheckbox:i,forceMount:a,...o}=e,s=h(j,i);return(0,t.jsx)(d.Presence,{present:a||F(s.checked)||!0===s.checked,children:(0,t.jsx)(u.Primitive.span,{"data-state":V(s.checked),"data-disabled":s.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});y.displayName=j;var C="CheckboxBubbleInput",k=r.forwardRef((e,a)=>{let{__scopeCheckbox:o,...s}=e,{control:d,hasConsumerStoppedPropagationRef:c,checked:m,defaultChecked:f,required:p,disabled:x,name:b,value:v,form:g,bubbleInput:j,setBubbleInput:y}=h(C,o),k=(0,i.useComposedRefs)(a,y),V=(0,n.usePrevious)(m),M=(0,l.useSize)(d);r.useEffect(()=>{if(!j)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(V!==m&&e){let r=new Event("click",{bubbles:t});j.indeterminate=F(m),e.call(j,!F(m)&&m),j.dispatchEvent(r)}},[j,V,m,c]);let w=r.useRef(!F(m)&&m);return(0,t.jsx)(u.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:null!=f?f:w.current,required:p,disabled:x,name:b,value:v,form:g,...s,tabIndex:-1,ref:k,style:{...s.style,...M,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function F(e){return"indeterminate"===e}function V(e){return F(e)?"indeterminate":e?"checked":"unchecked"}k.displayName=C;var M=e.i(255288),w=e.i(975157);function N(e){let{className:r,...i}=e;return(0,t.jsx)(g,{"data-slot":"checkbox",className:(0,w.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...i,children:(0,t.jsx)(y,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(M.CheckIcon,{className:"size-3.5"})})})}},515288,e=>{"use strict";e.s(["Card",()=>i,"CardContent",()=>n,"CardDescription",()=>s,"CardFooter",()=>l,"CardHeader",()=>a,"CardTitle",()=>o]);var t=e.i(765830),r=e.i(975157);function i(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...a})}function a(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...a})}function o(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",i),...a})}function s(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",i),...a})}function n(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",i),...a})}function l(e){let{className:i,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-6 [.border-t]:pt-6",i),...a})}},110204,821094,e=>{"use strict";e.s(["Label",()=>s],110204);var t=e.i(765830),r=e.i(906943),i=e.i(984157),a=r.forwardRef((e,r)=>(0,t.jsx)(i.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var o=e.i(975157);function s(e){let{className:r,...i}=e;return(0,t.jsx)(a,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...i})}e.s(["Loader2",()=>n],821094);let n=(0,e.i(786981).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},254059,e=>{"use strict";e.s(["Save",()=>t],254059);let t=(0,e.i(786981).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},673157,e=>{"use strict";e.s(["default",()=>c],673157);var t=e.i(765830),r=e.i(786981);let i=(0,r.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),a=(0,r.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),o=(0,r.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var s=e.i(403419),n=e.i(906943);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxFiles:t=1/0,maxSize:r=1/0,accept:i="*",multiple:a=!1,initialFiles:o=[],onFilesChange:s,onFilesAdded:l}=e,[u,c]=(0,n.useState)({files:o.map(e=>({file:e,id:e.id,preview:e.url})),isDragging:!1,errors:[]}),m=(0,n.useRef)(null),f=(0,n.useCallback)(e=>{if(e instanceof File){if(e.size>r)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(d(r),".")}else if(e.size>r)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(d(r),".");if("*"!==i){let t=i.split(",").map(e=>e.trim()),r=e instanceof File?e.type||"":e.type,a=".".concat((e instanceof File,e.name.split(".").pop()));if(!t.some(e=>{if(e.startsWith("."))return a.toLowerCase()===e.toLowerCase();if(e.endsWith("/*")){let t=e.split("/")[0];return r.startsWith("".concat(t,"/"))}return r===e}))return'File "'.concat((e instanceof File,e.name),'" is not an accepted file type.')}return null},[i,r]),p=(0,n.useCallback)(e=>e instanceof File?URL.createObjectURL(e):e.url,[]),h=(0,n.useCallback)(e=>e instanceof File?"".concat(e.name,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)):e.id,[]),x=(0,n.useCallback)(()=>{c(e=>{e.files.forEach(e=>{e.preview&&e.file instanceof File&&e.file.type.startsWith("image/")&&URL.revokeObjectURL(e.preview)}),m.current&&(m.current.value="");let t={...e,files:[],errors:[]};return null==s||s(t.files),t})},[s]),b=(0,n.useCallback)(e=>{if(!e||0===e.length)return;let i=Array.from(e),o=[];if(c(e=>({...e,errors:[]})),a||x(),a&&t!==1/0&&u.files.length+i.length>t){o.push("You can only upload a maximum of ".concat(t," files.")),c(e=>({...e,errors:o}));return}let n=[];i.forEach(e=>{if(a&&u.files.some(t=>t.file.name===e.name&&t.file.size===e.size))return;if(e.size>r)return void o.push(a?"Some files exceed the maximum size of ".concat(d(r),"."):"File exceeds the maximum size of ".concat(d(r),"."));let t=f(e);t?o.push(t):n.push({file:e,id:h(e),preview:p(e)})}),n.length>0?(null==l||l(n),c(e=>{let t=a?[...e.files,...n]:n;return null==s||s(t),{...e,files:t,errors:o}})):o.length>0&&c(e=>({...e,errors:o})),m.current&&(m.current.value="")},[u.files,t,a,r,f,p,h,x,s,l]),v=(0,n.useCallback)(e=>{c(t=>{let r=t.files.find(t=>t.id===e);r&&r.preview&&r.file instanceof File&&r.file.type.startsWith("image/")&&URL.revokeObjectURL(r.preview);let i=t.files.filter(t=>t.id!==e);return null==s||s(i),{...t,files:i,errors:[]}})},[s]),g=(0,n.useCallback)(()=>{c(e=>({...e,errors:[]}))},[]),j=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c(e=>({...e,isDragging:!0}))},[]),y=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||c(e=>({...e,isDragging:!1}))},[]),C=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),k=(0,n.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),c(e=>({...e,isDragging:!1})),(null==(t=m.current)||!t.disabled)&&e.dataTransfer.files&&e.dataTransfer.files.length>0&&(a?b(e.dataTransfer.files):b([e.dataTransfer.files[0]]))},[b,a]),F=(0,n.useCallback)(e=>{e.target.files&&e.target.files.length>0&&b(e.target.files)},[b]),V=(0,n.useCallback)(()=>{m.current&&m.current.click()},[]),M=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,type:"file",onChange:F,accept:e.accept||i,multiple:void 0!==e.multiple?e.multiple:a,ref:m}},[i,a,F]);return[u,{addFiles:b,removeFile:v,clearFiles:x,clearErrors:g,handleDragEnter:j,handleDragLeave:y,handleDragOver:C,handleDrop:k,handleFileChange:F,openFileDialog:V,getInputProps:M}]},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][r]};var u=e.i(519455);function c(e){let{maxSize:r=0x1400000,accept:n="*",onFilesChange:c,placeholder:m="Upload file"}=e,[{files:f,isDragging:p,errors:h},{handleDragEnter:x,handleDragLeave:b,handleDragOver:v,handleDrop:g,openFileDialog:j,removeFile:y,getInputProps:C}]=l({maxSize:r,accept:n,onFilesChange:c}),k=f[0];return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{role:"button",onClick:j,onDragEnter:x,onDragLeave:b,onDragOver:v,onDrop:g,"data-dragging":p||void 0,className:"border-input hover:bg-accent/50 data-[dragging=true]:bg-accent/50 has-[input:focus]:border-ring has-[input:focus]:ring-ring/50 flex min-h-40 flex-col items-center justify-center rounded-xl border border-dashed p-4 transition-colors has-disabled:pointer-events-none has-disabled:opacity-50 has-[input:focus]:ring-[3px]",children:[(0,t.jsx)("input",{...C(),className:"sr-only","aria-label":"Upload file",disabled:!!k}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"bg-background mb-2 flex size-11 shrink-0 items-center justify-center rounded-full border","aria-hidden":"true",children:(0,t.jsx)(o,{className:"size-4 opacity-60"})}),(0,t.jsx)("p",{className:"mb-1.5 text-sm font-medium",children:m}),(0,t.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Drag & drop or click to browse (max. ",d(r),")"]})]})]}),h.length>0&&(0,t.jsxs)("div",{className:"text-destructive flex items-center gap-1 text-xs",role:"alert",children:[(0,t.jsx)(i,{className:"size-3 shrink-0"}),(0,t.jsx)("span",{children:h[0]})]}),k&&(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 rounded-xl border px-4 py-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,t.jsx)(a,{className:"size-4 shrink-0 opacity-60","aria-hidden":"true"}),(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)("p",{className:"truncate text-[13px] font-medium",children:k.file.name})})]}),(0,t.jsx)(u.Button,{size:"icon",variant:"ghost",className:"text-muted-foreground/80 hover:text-foreground -me-2 size-8 hover:bg-transparent",onClick:()=>{var e;return y(null==(e=f[0])?void 0:e.id)},"aria-label":"Remove file",children:(0,t.jsx)(s.XIcon,{className:"size-4","aria-hidden":"true"})})]},k.id)})]})}},484045,e=>{"use strict";e.s(["default",()=>j]);var t=e.i(765830),r=e.i(673157),i=e.i(519455),a=e.i(515288),o=e.i(59497),s=e.i(903133),n=e.i(793479),l=e.i(798794),d=e.i(557076),u=e.i(821094),c=e.i(254059),m=e.i(969726),f=e.i(38510),p=e.i(906943),h=e.i(441648),x=e.i(806746),b=e.i(297117);let v=(0,m.default)(()=>e.A(393495).then(e=>({default:e.MDXEditor})),{loadableGenerated:{modules:[6305]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"border rounded-md p-4 min-h-[100px] bg-muted animate-pulse"})}),g=b.z.object({title:b.z.string().min(1,{message:"Title is required"}),description:b.z.string().max(1e4,{message:"Description must be at most 10000 characters"}).optional(),duration:b.z.string().min(1,{message:"Duration is required"}),videoNumber:b.z.number().min(1,{message:"Video number must be at least 1"}),videoFile:b.z.string().optional(),youtubeVideoUrl:b.z.string().optional(),useYoutubeVideo:b.z.boolean().optional()}).refine(e=>!e.useYoutubeVideo||!!e.youtubeVideoUrl&&""!==e.youtubeVideoUrl.trim(),{message:"YouTube video URL is required when using YouTube video.",path:["youtubeVideoUrl"]}).refine(e=>!!e.useYoutubeVideo||!!e.videoFile&&""!==e.videoFile.trim(),{message:"Please upload a video file.",path:["videoFile"]});function j(){let e=(0,f.useParams)(),m=(0,f.useRouter)(),[b,j]=(0,p.useState)([]),[y,{isLoading:C}]=(0,l.useCreateModuleVideoMutation)(),k=(0,h.useForm)({resolver:(0,d.zodResolver)(g),defaultValues:{title:"",description:"",duration:"",videoNumber:1,videoFile:"",youtubeVideoUrl:"",useYoutubeVideo:!1}}),F=k.watch("useYoutubeVideo");(0,p.useEffect)(()=>{F?(k.setValue("videoFile",""),j([])):k.setValue("youtubeVideoUrl","")},[F,k]);let V=e=>{if(j(e),k.setValue("videoFile",e.length>0?e[0].file.name:""),e.length>0&&!k.getValues("title")){let t=e[0].file.name.replace(/\.[^/.]+$/,"");k.setValue("title",t)}k.trigger("videoFile")},M=async t=>{try{var r,i;if(!t.useYoutubeVideo&&!(null==(r=b[0])?void 0:r.file))return void x.toast.error("Please upload a video file");if(t.useYoutubeVideo&&(!t.youtubeVideoUrl||""===t.youtubeVideoUrl.trim()))return void x.toast.error("Please enter a YouTube video URL");let a=new FormData,o={moduleId:e.moduleId,videoNumber:t.videoNumber,title:t.title,duration:t.duration,description:t.description||"",...t.useYoutubeVideo?{youtubeVideoUrl:t.youtubeVideoUrl}:{},...t.useYoutubeVideo?{useYoutubeVideo:t.useYoutubeVideo}:{}};a.append("data",JSON.stringify(o)),!t.useYoutubeVideo&&(null==(i=b[0])?void 0:i.file)&&a.append("file",b[0].file),(await y(a).unwrap()).success&&(x.toast.success("Video created successfully!",{description:'Video "'.concat(t.title,'" has been added to the module.')}),m.back())}catch(e){if("object"==typeof e&&null!==e&&"status"in e&&409===e.status)return void x.toast.error("Video Number and video Title must be unique within the module.");x.toast.error("Failed to create video. Please try again."),console.error(e)}};return(0,t.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Add Video"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Upload a new video to this module"})]})})}),(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{children:"Video Information"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)(s.Form,{...k,children:(0,t.jsxs)("form",{onSubmit:k.handleSubmit(M),className:"space-y-6",children:[(0,t.jsx)(s.FormField,{control:k.control,name:"useYoutubeVideo",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{className:"flex flex-row items-start space-x-3 space-y-0",children:[(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(o.Checkbox,{checked:r.value,onCheckedChange:r.onChange})}),(0,t.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,t.jsx)(s.FormLabel,{children:"Use YouTube Video"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Use a YouTube video instead of uploading a video file"})]})]})}}),k.watch("useYoutubeVideo")&&(0,t.jsx)(s.FormField,{control:k.control,name:"youtubeVideoUrl",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"YouTube Video URL *"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(n.Input,{placeholder:"Enter YouTube video URL (e.g., https://www.youtube.com/watch?v=...)",...r})}),(0,t.jsx)(s.FormMessage,{})]})}}),!k.watch("useYoutubeVideo")&&(0,t.jsx)(s.FormField,{control:k.control,name:"videoFile",render:e=>{let{field:i}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"Video File *"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)("div",{children:(0,t.jsx)(r.default,{maxSize:0x6400000,accept:"video/*",onFilesChange:V,placeholder:"Upload video file"})})}),(0,t.jsx)(s.FormMessage,{}),0===b.length&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Supported formats: MP4, MOV, AVI, WMV (Max size: 100MB)"})]})}}),(0,t.jsx)(s.FormField,{control:k.control,name:"title",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"Video Title *"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(n.Input,{placeholder:"Enter video title",...r})}),(0,t.jsx)(s.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(s.FormField,{control:k.control,name:"videoNumber",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"Video Number *"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(n.Input,{type:"number",placeholder:"1",...r,onChange:e=>r.onChange(parseInt(e.target.value)||1)})}),(0,t.jsx)(s.FormMessage,{})]})}}),(0,t.jsx)(s.FormField,{control:k.control,name:"duration",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"Duration *"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(n.Input,{placeholder:"e.g., 15 min, 1h 30min",...r})}),(0,t.jsx)(s.FormMessage,{})]})}})]}),(0,t.jsx)(s.FormField,{control:k.control,name:"description",render:e=>{let{field:r}=e;return(0,t.jsxs)(s.FormItem,{children:[(0,t.jsx)(s.FormLabel,{children:"Description (Optional)"}),(0,t.jsx)(s.FormControl,{children:(0,t.jsx)(v,{value:r.value||"",onChange:r.onChange,onBlur:r.onBlur,placeholder:"Describe what students will learn in this video...",className:"min-h-[200px]"})}),(0,t.jsx)(s.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>m.back(),children:"Cancel"}),(0,t.jsx)(i.Button,{type:"submit",disabled:C,children:C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Save,{className:"w-4 h-4 mr-2"}),"Create Video"]})})]})]})})})]})]})})}},393495,e=>{e.v(t=>Promise.all(["static/chunks/de5cf3360f4bb0a6.js","static/chunks/d7bf35f20fc662a8.js","static/chunks/97ebaee992df124c.js","static/chunks/9c03fde5f98a4204.js","static/chunks/e8c15997a5351ab6.js","static/chunks/7cc0e3985c846950.js","static/chunks/df2d6bc3a62dbaa6.js","static/chunks/19a2476064b673e6.js"].map(t=>e.l(t))).then(()=>t(6305)))}]);
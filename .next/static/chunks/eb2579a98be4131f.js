(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";e.s(["Card",()=>l,"CardContent",()=>n,"CardDescription",()=>s,"CardFooter",()=>o,"CardHeader",()=>r,"CardTitle",()=>i]);var t=e.i(765830),a=e.i(975157);function l(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",l),...r})}function r(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",l),...r})}function i(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",l),...r})}function s(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",l),...r})}function n(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",l),...r})}function o(e){let{className:l,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",l),...r})}},110204,821094,e=>{"use strict";e.s(["Label",()=>s],110204);var t=e.i(765830),a=e.i(906943),l=e.i(984157),r=a.forwardRef((e,a)=>(0,t.jsx)(l.Primitive.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(975157);function s(e){let{className:a,...l}=e;return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...l})}e.s(["Loader2",()=>n],821094);let n=(0,e.i(786981).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},254059,e=>{"use strict";e.s(["Save",()=>t],254059);let t=(0,e.i(786981).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},673157,e=>{"use strict";e.s(["default",()=>u],673157);var t=e.i(765830),a=e.i(786981);let l=(0,a.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),r=(0,a.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),i=(0,a.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var s=e.i(403419),n=e.i(906943);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{maxFiles:t=1/0,maxSize:a=1/0,accept:l="*",multiple:r=!1,initialFiles:i=[],onFilesChange:s,onFilesAdded:o}=e,[c,u]=(0,n.useState)({files:i.map(e=>({file:e,id:e.id,preview:e.url})),isDragging:!1,errors:[]}),m=(0,n.useRef)(null),f=(0,n.useCallback)(e=>{if(e instanceof File){if(e.size>a)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(d(a),".")}else if(e.size>a)return'File "'.concat(e.name,'" exceeds the maximum size of ').concat(d(a),".");if("*"!==l){let t=l.split(",").map(e=>e.trim()),a=e instanceof File?e.type||"":e.type,r=".".concat((e instanceof File,e.name.split(".").pop()));if(!t.some(e=>{if(e.startsWith("."))return r.toLowerCase()===e.toLowerCase();if(e.endsWith("/*")){let t=e.split("/")[0];return a.startsWith("".concat(t,"/"))}return a===e}))return'File "'.concat((e instanceof File,e.name),'" is not an accepted file type.')}return null},[l,a]),h=(0,n.useCallback)(e=>e instanceof File?URL.createObjectURL(e):e.url,[]),p=(0,n.useCallback)(e=>e instanceof File?"".concat(e.name,"-").concat(Date.now(),"-").concat(Math.random().toString(36).substring(2,9)):e.id,[]),x=(0,n.useCallback)(()=>{u(e=>{e.files.forEach(e=>{e.preview&&e.file instanceof File&&e.file.type.startsWith("image/")&&URL.revokeObjectURL(e.preview)}),m.current&&(m.current.value="");let t={...e,files:[],errors:[]};return null==s||s(t.files),t})},[s]),g=(0,n.useCallback)(e=>{if(!e||0===e.length)return;let l=Array.from(e),i=[];if(u(e=>({...e,errors:[]})),r||x(),r&&t!==1/0&&c.files.length+l.length>t){i.push("You can only upload a maximum of ".concat(t," files.")),u(e=>({...e,errors:i}));return}let n=[];l.forEach(e=>{if(r&&c.files.some(t=>t.file.name===e.name&&t.file.size===e.size))return;if(e.size>a)return void i.push(r?"Some files exceed the maximum size of ".concat(d(a),"."):"File exceeds the maximum size of ".concat(d(a),"."));let t=f(e);t?i.push(t):n.push({file:e,id:p(e),preview:h(e)})}),n.length>0?(null==o||o(n),u(e=>{let t=r?[...e.files,...n]:n;return null==s||s(t),{...e,files:t,errors:i}})):i.length>0&&u(e=>({...e,errors:i})),m.current&&(m.current.value="")},[c.files,t,r,a,f,h,p,x,s,o]),v=(0,n.useCallback)(e=>{u(t=>{let a=t.files.find(t=>t.id===e);a&&a.preview&&a.file instanceof File&&a.file.type.startsWith("image/")&&URL.revokeObjectURL(a.preview);let l=t.files.filter(t=>t.id!==e);return null==s||s(l),{...t,files:l,errors:[]}})},[s]),j=(0,n.useCallback)(()=>{u(e=>({...e,errors:[]}))},[]),b=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),u(e=>({...e,isDragging:!0}))},[]),y=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||u(e=>({...e,isDragging:!1}))},[]),C=(0,n.useCallback)(e=>{e.preventDefault(),e.stopPropagation()},[]),N=(0,n.useCallback)(e=>{var t;e.preventDefault(),e.stopPropagation(),u(e=>({...e,isDragging:!1})),(null==(t=m.current)||!t.disabled)&&e.dataTransfer.files&&e.dataTransfer.files.length>0&&(r?g(e.dataTransfer.files):g([e.dataTransfer.files[0]]))},[g,r]),k=(0,n.useCallback)(e=>{e.target.files&&e.target.files.length>0&&g(e.target.files)},[g]),F=(0,n.useCallback)(()=>{m.current&&m.current.click()},[]),w=(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...e,type:"file",onChange:k,accept:e.accept||l,multiple:void 0!==e.multiple?e.multiple:r,ref:m}},[l,r,k]);return[c,{addFiles:g,removeFile:v,clearFiles:x,clearErrors:j,handleDragEnter:b,handleDragLeave:y,handleDragOver:C,handleDrop:N,handleFileChange:k,openFileDialog:F,getInputProps:w}]},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,a)).toFixed(t<0?0:t))+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]};var c=e.i(519455);function u(e){let{maxSize:a=0x1400000,accept:n="*",onFilesChange:u,placeholder:m="Upload file"}=e,[{files:f,isDragging:h,errors:p},{handleDragEnter:x,handleDragLeave:g,handleDragOver:v,handleDrop:j,openFileDialog:b,removeFile:y,getInputProps:C}]=o({maxSize:a,accept:n,onFilesChange:u}),N=f[0];return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{role:"button",onClick:b,onDragEnter:x,onDragLeave:g,onDragOver:v,onDrop:j,"data-dragging":h||void 0,className:"border-input hover:bg-accent/50 data-[dragging=true]:bg-accent/50 has-[input:focus]:border-ring has-[input:focus]:ring-ring/50 flex min-h-40 flex-col items-center justify-center rounded-xl border border-dashed p-4 transition-colors has-disabled:pointer-events-none has-disabled:opacity-50 has-[input:focus]:ring-[3px]",children:[(0,t.jsx)("input",{...C(),className:"sr-only","aria-label":"Upload file",disabled:!!N}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"bg-background mb-2 flex size-11 shrink-0 items-center justify-center rounded-full border","aria-hidden":"true",children:(0,t.jsx)(i,{className:"size-4 opacity-60"})}),(0,t.jsx)("p",{className:"mb-1.5 text-sm font-medium",children:m}),(0,t.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Drag & drop or click to browse (max. ",d(a),")"]})]})]}),p.length>0&&(0,t.jsxs)("div",{className:"text-destructive flex items-center gap-1 text-xs",role:"alert",children:[(0,t.jsx)(l,{className:"size-3 shrink-0"}),(0,t.jsx)("span",{children:p[0]})]}),N&&(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 rounded-xl border px-4 py-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,t.jsx)(r,{className:"size-4 shrink-0 opacity-60","aria-hidden":"true"}),(0,t.jsx)("div",{className:"min-w-0",children:(0,t.jsx)("p",{className:"truncate text-[13px] font-medium",children:N.file.name})})]}),(0,t.jsx)(c.Button,{size:"icon",variant:"ghost",className:"text-muted-foreground/80 hover:text-foreground -me-2 size-8 hover:bg-transparent",onClick:()=>{var e;return y(null==(e=f[0])?void 0:e.id)},"aria-label":"Remove file",children:(0,t.jsx)(s.XIcon,{className:"size-4","aria-hidden":"true"})})]},N.id)})]})}},798794,e=>{"use strict";e.s(["useCreateModuleVideoMutation",()=>t,"useDeleteModuleVideoMutation",()=>s,"useGetModuleVideoByIdQuery",()=>r,"useUpdateModuleVideoMutation",()=>i]);let{useCreateModuleVideoMutation:t,useGetAllModuleVideosQuery:a,useGetVideosByModuleIdQuery:l,useGetModuleVideoByIdQuery:r,useUpdateModuleVideoMutation:i,useDeleteModuleVideoMutation:s}=e.i(938908).baseApi.injectEndpoints({endpoints:e=>({createModuleVideo:e.mutation({query:e=>({url:"/module-videos",method:"POST",data:e}),invalidatesTags:["Course","CourseModule","ModuleVideo"]}),getAllModuleVideos:e.query({query:e=>({url:"/module-videos",method:"GET",params:e}),providesTags:["Course","CourseModule","ModuleVideo"]}),getVideosByModuleId:e.query({query:e=>({url:"/module-videos/module/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),getModuleVideoById:e.query({query:e=>({url:"/module-videos/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),updateModuleVideo:e.mutation({query:e=>{let{data:t,videoId:a}=e;return{url:"/module-videos/".concat(a),method:"PATCH",data:t}},invalidatesTags:["Course","CourseModule","ModuleVideo"]}),deleteModuleVideo:e.mutation({query:e=>({url:"/module-videos/".concat(e),method:"DELETE"}),invalidatesTags:["Course","CourseModule","ModuleVideo"]})})})},557838,e=>{"use strict";e.s(["Play",()=>t],557838);let t=(0,e.i(786981).default)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},41589,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let l=e.r(745643);function r(e){let{reason:t,children:a}=e;if("undefined"==typeof window)throw Object.defineProperty(new l.BailoutToCSRError(t),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a}},724740,(e,t,a)=>{"use strict";function l(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return l}})},540899,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return n}});let l=e.r(765830),r=e.r(914931),i=e.r(340129),s=e.r(724740);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let a=i.workAsyncStorage.getStore();if(void 0===a)return null;let n=[];if(a.reactLoadableManifest&&t){let e=a.reactLoadableManifest;for(let a of t){if(!e[a])continue;let t=e[a].files;n.push(...t)}}return 0===n.length?null:(0,l.jsx)(l.Fragment,{children:n.map(e=>{let t=a.assetPrefix+"/_next/"+(0,s.encodeURIPath)(e);return e.endsWith(".css")?(0,l.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,r.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},984045,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return d}});let l=e.r(765830),r=e.r(906943),i=e.r(41589),s=e.r(540899);function n(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},a=(0,r.lazy)(()=>t.loader().then(n)),d=t.loading;function c(e){let n=d?(0,l.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?r.Suspense:r.Fragment,u=t.ssr?(0,l.jsxs)(l.Fragment,{children:["undefined"==typeof window?(0,l.jsx)(s.PreloadChunks,{moduleIds:t.modules}):null,(0,l.jsx)(a,{...e})]}):(0,l.jsx)(i.BailoutToCSR,{reason:"next/dynamic",children:(0,l.jsx)(a,{...e})});return(0,l.jsx)(c,{...o?{fallback:n}:{},children:u})}return c.displayName="LoadableComponent",c}},969726,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return r}});let l=e.r(481258)._(e.r(984045));function r(e,t){var a;let r={};"function"==typeof e&&(r.loader=e);let i={...r,...t};return(0,l.default)({...i,modules:null==(a=i.loadableGenerated)?void 0:a.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},988316,e=>{"use strict";e.s(["default",()=>C]);var t=e.i(765830),a=e.i(673157),l=e.i(519455),r=e.i(515288),i=e.i(903133),s=e.i(793479),n=e.i(302747),o=e.i(798794),d=e.i(557076),c=e.i(821094),u=e.i(557838),m=e.i(254059),f=e.i(969726),h=e.i(38510),p=e.i(906943),x=e.i(441648),g=e.i(806746),v=e.i(297117);let j=(0,f.default)(()=>e.A(393495).then(e=>({default:e.MDXEditor})),{loadableGenerated:{modules:[6305]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"border rounded-md p-4 min-h-[100px] bg-muted animate-pulse"})}),b=(0,f.default)(()=>e.A(521119),{loadableGenerated:{modules:[620671]},ssr:!1}),y=v.z.object({title:v.z.string().min(1,{message:"Title is required"}),description:v.z.string().max(1e4,{message:"Description must be at most 10000 characters"}).optional(),duration:v.z.string().min(1,{message:"Duration is required"}),videoNumber:v.z.number().min(1,{message:"Video number must be at least 1"}),videoFile:v.z.string().optional()});function C(){var e,f;let v=(0,h.useParams)(),C=(0,h.useRouter)(),N=v.videoId,[k,F]=(0,p.useState)([]),[w,M]=(0,p.useState)([]),[P,V]=(0,p.useState)(!1),{data:D,isLoading:T}=(0,o.useGetModuleVideoByIdQuery)(N,{skip:!N});console.log("Video Data:",D);let[z,{isLoading:L}]=(0,o.useUpdateModuleVideoMutation)(),B=e=>{var t;e.length>0&&(null==D||null==(t=D.data)?void 0:t.url)&&0===w.length&&F(e=>[...e,D.data.url]),M(e),O.setValue("videoFile",e.length>0?e[0].file.name:""),O.trigger("videoFile")},O=(0,x.useForm)({resolver:(0,d.zodResolver)(y),defaultValues:{title:"",description:"",duration:"",videoNumber:1,videoFile:""}});(0,p.useEffect)(()=>{if((null==D?void 0:D.data)&&!P){let e=D.data;console.log("Updating form with video data:",e);let t={title:e.title||"",description:e.description||"",duration:e.duration||"",videoNumber:e.videoNumber||1,videoFile:e.url||""};console.log("Form data to set:",t),O.reset(t),V(!0)}},[D,O,P]);let S=async e=>{try{var t;let a={title:e.title,description:e.description||"",duration:e.duration,videoNumber:e.videoNumber,deletedFiles:k},l=new FormData;l.append("data",JSON.stringify(a)),(null==(t=w[0])?void 0:t.file)instanceof File&&l.append("file",w[0].file),console.log("Deleted files to be processed:",k),(await z({data:l,videoId:null==D?void 0:D.data._id}).unwrap()).success&&(g.toast.success("Video updated successfully!",{description:'Video "'.concat(e.title,'" has been updated.')}),F([]),C.back())}catch(e){g.toast.error("Failed to update video. Please try again."),console.log(e)}};return T?(0,t.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Skeleton,{className:"h-8 w-48 mb-2"}),(0,t.jsx)(n.Skeleton,{className:"h-4 w-32"})]})})}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(n.Skeleton,{className:"h-6 w-32"})}),(0,t.jsx)(r.CardContent,{className:"space-y-6",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Skeleton,{className:"h-4 w-24"}),(0,t.jsx)(n.Skeleton,{className:"h-10 w-full"})]},a))})]})]})}):D?(0,t.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Video"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Update video information"})]})})}),(null==D||null==(e=D.data)?void 0:e.url)&&0===w.length&&!k.includes((null==D||null==(f=D.data)?void 0:f.url)||"")&&(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Current Video"})}),(0,t.jsxs)(r.CardContent,{children:[(0,t.jsx)("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden",children:(0,t.jsx)(b,{src:D.data.url,width:"100%",height:"100%",controls:!0,light:!0,playIcon:(0,t.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:(0,t.jsxs)(l.Button,{size:"lg",className:"bg-white text-black hover:bg-white/90",children:[(0,t.jsx)(u.Play,{className:"h-6 w-6 mr-2"}),"Preview Video"]})})})}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground",children:[(0,t.jsx)("p",{className:"font-medium",children:D.data.title}),(0,t.jsxs)("p",{children:["Duration: ",D.data.duration]})]})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{children:"Video Information"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsx)(i.Form,{...O,children:(0,t.jsxs)("form",{onSubmit:O.handleSubmit(S),className:"space-y-6",children:[(0,t.jsx)(i.FormField,{control:O.control,name:"videoFile",render:e=>{var l,r,s;let{field:n}=e;return(0,t.jsxs)(i.FormItem,{children:[(0,t.jsx)(i.FormLabel,{children:"Replace Video File (Optional)"}),(0,t.jsx)(i.FormControl,{children:(0,t.jsx)("div",{children:(0,t.jsx)(a.default,{maxSize:0x6400000,accept:"video/*",onFilesChange:B,placeholder:"Upload new video file"})})}),(0,t.jsx)(i.FormMessage,{}),0===w.length&&(null==D||null==(l=D.data)?void 0:l.url)&&!k.includes((null==D||null==(r=D.data)?void 0:r.url)||"")&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Current video will be preserved if not changed"}),k.includes((null==D||null==(s=D.data)?void 0:s.url)||"")&&(0,t.jsx)("p",{className:"text-sm text-red-600",children:"Current video will be deleted"})]})}}),(0,t.jsx)(i.FormField,{control:O.control,name:"title",render:e=>{let{field:a}=e;return(0,t.jsxs)(i.FormItem,{children:[(0,t.jsx)(i.FormLabel,{children:"Video Title *"}),(0,t.jsx)(i.FormControl,{children:(0,t.jsx)(s.Input,{placeholder:"Enter video title",...a})}),(0,t.jsx)(i.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(i.FormField,{control:O.control,name:"videoNumber",render:e=>{let{field:a}=e;return(0,t.jsxs)(i.FormItem,{children:[(0,t.jsx)(i.FormLabel,{children:"Video Number *"}),(0,t.jsx)(i.FormControl,{children:(0,t.jsx)(s.Input,{type:"number",placeholder:"1",...a,onChange:e=>a.onChange(parseInt(e.target.value)||1)})}),(0,t.jsx)(i.FormMessage,{})]})}}),(0,t.jsx)(i.FormField,{control:O.control,name:"duration",render:e=>{let{field:a}=e;return(0,t.jsxs)(i.FormItem,{children:[(0,t.jsx)(i.FormLabel,{children:"Duration *"}),(0,t.jsx)(i.FormControl,{children:(0,t.jsx)(s.Input,{placeholder:"e.g., 15 min, 1h 30min",...a})}),(0,t.jsx)(i.FormMessage,{})]})}})]}),(0,t.jsx)(i.FormField,{control:O.control,name:"description",render:e=>{var a;let{field:l}=e;return(0,t.jsxs)(i.FormItem,{children:[(0,t.jsx)(i.FormLabel,{children:"Description (Optional)"}),(0,t.jsx)(i.FormControl,{children:P?(0,t.jsx)(j,{value:l.value||"",onChange:l.onChange,onBlur:l.onBlur,name:l.name,placeholder:"Describe what students will learn in this video...",className:"min-h-[200px]",showPreview:!0},"mdx-".concat(null==D||null==(a=D.data)?void 0:a._id)):(0,t.jsx)("div",{className:"min-h-[200px] border rounded-md flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-muted-foreground",children:"Loading editor..."})})}),(0,t.jsx)(i.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>C.back(),children:"Cancel"}),(0,t.jsx)(l.Button,{type:"submit",disabled:L,children:L?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Save,{className:"w-4 h-4 mr-2"}),"Update Video"]})})]})]})})})]})]})}):(0,t.jsx)("div",{children:"Video not found"})}},393495,e=>{e.v(t=>Promise.all(["static/chunks/de5cf3360f4bb0a6.js","static/chunks/d7bf35f20fc662a8.js","static/chunks/97ebaee992df124c.js","static/chunks/95070205a01577fe.js","static/chunks/e8c15997a5351ab6.js","static/chunks/1f40d1627c85532d.js","static/chunks/df2d6bc3a62dbaa6.js","static/chunks/19a2476064b673e6.js"].map(t=>e.l(t))).then(()=>t(6305)))},521119,e=>{e.v(t=>Promise.all(["static/chunks/3ef90d193ac09b53.js"].map(t=>e.l(t))).then(()=>t(620671)))}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";e.s(["Card",()=>o,"CardContent",()=>i,"CardDescription",()=>l,"CardFooter",()=>d,"CardHeader",()=>a,"CardTitle",()=>r]);var t=e.i(765830),s=e.i(975157);function o(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",o),...a})}function a(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",o),...a})}function r(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",o),...a})}function l(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",o),...a})}function i(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",o),...a})}function d(e){let{className:o,...a}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",o),...a})}},110204,821094,e=>{"use strict";e.s(["Label",()=>l],110204);var t=e.i(765830),s=e.i(906943),o=e.i(984157),a=s.forwardRef((e,s)=>(0,t.jsx)(o.Primitive.label,{...e,ref:s,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null==(s=e.onMouseDown)||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var r=e.i(975157);function l(e){let{className:s,...o}=e;return(0,t.jsx)(a,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...o})}e.s(["Loader2",()=>i],821094);let i=(0,e.i(786981).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},889889,e=>{"use strict";e.s(["Edit",()=>t],889889);let t=(0,e.i(786981).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},570287,e=>{"use strict";e.s(["ChevronDownIcon",()=>t],570287);let t=(0,e.i(786981).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},798794,e=>{"use strict";e.s(["useCreateModuleVideoMutation",()=>t,"useDeleteModuleVideoMutation",()=>l,"useGetModuleVideoByIdQuery",()=>a,"useUpdateModuleVideoMutation",()=>r]);let{useCreateModuleVideoMutation:t,useGetAllModuleVideosQuery:s,useGetVideosByModuleIdQuery:o,useGetModuleVideoByIdQuery:a,useUpdateModuleVideoMutation:r,useDeleteModuleVideoMutation:l}=e.i(938908).baseApi.injectEndpoints({endpoints:e=>({createModuleVideo:e.mutation({query:e=>({url:"/module-videos",method:"POST",data:e}),invalidatesTags:["Course","CourseModule","ModuleVideo"]}),getAllModuleVideos:e.query({query:e=>({url:"/module-videos",method:"GET",params:e}),providesTags:["Course","CourseModule","ModuleVideo"]}),getVideosByModuleId:e.query({query:e=>({url:"/module-videos/module/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),getModuleVideoById:e.query({query:e=>({url:"/module-videos/".concat(e),method:"GET"}),providesTags:["Course","CourseModule","ModuleVideo"]}),updateModuleVideo:e.mutation({query:e=>{let{data:t,videoId:s}=e;return{url:"/module-videos/".concat(s),method:"PATCH",data:t}},invalidatesTags:["Course","CourseModule","ModuleVideo"]}),deleteModuleVideo:e.mutation({query:e=>({url:"/module-videos/".concat(e),method:"DELETE"}),invalidatesTags:["Course","CourseModule","ModuleVideo"]})})})},524435,e=>{"use strict";e.s(["ConfirmationModal",()=>l],524435);var t=e.i(765830),s=e.i(519455),o=e.i(776639);let a=(0,e.i(786981).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var r=e.i(972893);function l(e){let{isOpen:l,onClose:i,onConfirm:d,title:n="Are you sure?",description:c="This action cannot be undone.",confirmText:u="Delete",cancelText:m="Cancel",isLoading:h=!1,variant:x="destructive",icon:f=(0,t.jsx)(r.Trash2,{className:"w-4 h-4 mr-2"})}=e;return(0,t.jsx)(o.Dialog,{open:l,onOpenChange:i,children:(0,t.jsxs)(o.DialogContent,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:n}),(0,t.jsx)(o.DialogDescription,{children:c})]}),(0,t.jsxs)(o.DialogFooter,{className:"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 gap-2",children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:i,disabled:h,children:m}),(0,t.jsxs)(s.Button,{variant:x,onClick:d,disabled:h,className:"".concat(h?"animate-pulse":""," w-full sm:w-auto"),children:[f,u,h&&(0,t.jsx)(a,{className:"animate-spin ml-2 w-4 h-4"})]})]})]})})}},972893,e=>{"use strict";e.s(["Trash2",()=>t],972893);let t=(0,e.i(786981).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},776639,e=>{"use strict";e.s(["Dialog",()=>r,"DialogContent",()=>d,"DialogDescription",()=>m,"DialogFooter",()=>c,"DialogHeader",()=>n,"DialogTitle",()=>u]);var t=e.i(765830),s=e.i(668038),o=e.i(403419),a=e.i(975157);function r(e){let{...o}=e;return(0,t.jsx)(s.Root,{"data-slot":"dialog",...o})}function l(e){let{...o}=e;return(0,t.jsx)(s.Portal,{"data-slot":"dialog-portal",...o})}function i(e){let{className:o,...r}=e;return(0,t.jsx)(s.Overlay,{"data-slot":"dialog-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",o),...r})}function d(e){let{className:r,children:d,showCloseButton:n=!0,...c}=e;return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(i,{}),(0,t.jsxs)(s.Content,{"data-slot":"dialog-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",r),...c,children:[d,n&&(0,t.jsxs)(s.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(o.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function n(e){let{className:s,...o}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,a.cn)("flex flex-col gap-2 text-center sm:text-left",s),...o})}function c(e){let{className:s,...o}=e;return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,a.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...o})}function u(e){let{className:o,...r}=e;return(0,t.jsx)(s.Title,{"data-slot":"dialog-title",className:(0,a.cn)("text-lg leading-none font-semibold",o),...r})}function m(e){let{className:o,...r}=e;return(0,t.jsx)(s.Description,{"data-slot":"dialog-description",className:(0,a.cn)("text-muted-foreground text-sm",o),...r})}},362434,e=>{"use strict";e.s(["FileText",()=>t],362434);let t=(0,e.i(786981).default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},960694,e=>{"use strict";e.s(["Plus",()=>t],960694);let t=(0,e.i(786981).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},433142,e=>{"use strict";e.s(["useCreateCourseModuleMutation",()=>t,"useDeleteCourseModuleMutation",()=>i,"useGetCourseModuleByIdQuery",()=>r,"useGetCourseModulesByCourseIdQuery",()=>a,"useUpdateCourseModuleMutation",()=>l]);let{useCreateCourseModuleMutation:t,useGetCourseModulesQuery:s,useGetMyCourseModulesQuery:o,useGetCourseModulesByCourseIdQuery:a,useGetCourseModuleByIdQuery:r,useUpdateCourseModuleMutation:l,useDeleteCourseModuleMutation:i}=e.i(938908).baseApi.injectEndpoints({endpoints:e=>({createCourseModule:e.mutation({query:e=>({url:"/course-modules/create",method:"POST",data:e}),invalidatesTags:["CourseModule","Course"]}),getCourseModules:e.query({query:e=>({url:"/course-modules",method:"GET",params:e}),providesTags:["CourseModule","Course"]}),getMyCourseModules:e.query({query:e=>({url:"/course-modules/my-modules",method:"GET",params:e}),providesTags:["CourseModule","Course"]}),getCourseModulesByCourseId:e.query({query:e=>({url:"/course-modules/by-course/".concat(e),method:"GET"}),providesTags:["CourseModule","Course"]}),getCourseModuleById:e.query({query:e=>({url:"/course-modules/".concat(e),method:"GET"}),providesTags:["CourseModule","Course"]}),updateCourseModule:e.mutation({query:e=>{let{data:t,id:s}=e;return{url:"/course-modules/".concat(s),method:"PUT",data:t}},invalidatesTags:["CourseModule","Course"]}),deleteCourseModule:e.mutation({query:e=>({url:"/course-modules/".concat(e),method:"DELETE"}),invalidatesTags:["CourseModule","Course"]})})})},273443,e=>{"use strict";e.s(["Accordion",()=>R,"AccordionContent",()=>K,"AccordionItem",()=>G,"AccordionTrigger",()=>U],273443);var t=e.i(765830),s=e.i(906943),o=e.i(212028),a=e.i(958539),r=e.i(802183),l=e.i(291967),i=e.i(919433),d=e.i(984157),n=e.i(19418),c=e.i(224186),u=e.i(652426),m="Accordion",h=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[x,f,p]=(0,a.createCollection)(m),[g,j]=(0,o.createContextScope)(m,[p,n.createCollapsibleScope]),v=(0,n.createCollapsibleScope)(),y=s.default.forwardRef((e,s)=>{let{type:o,...a}=e;return(0,t.jsx)(x.Provider,{scope:e.__scopeAccordion,children:"multiple"===o?(0,t.jsx)(T,{...a,ref:s}):(0,t.jsx)(w,{...a,ref:s})})});y.displayName=m;var[C,b]=g(m),[N,M]=g(m,{collapsible:!1}),w=s.default.forwardRef((e,o)=>{let{value:a,defaultValue:r,onValueChange:l=()=>{},collapsible:d=!1,...n}=e,[c,u]=(0,i.useControllableState)({prop:a,defaultProp:null!=r?r:"",onChange:l,caller:m});return(0,t.jsx)(C,{scope:e.__scopeAccordion,value:s.default.useMemo(()=>c?[c]:[],[c]),onItemOpen:u,onItemClose:s.default.useCallback(()=>d&&u(""),[d,u]),children:(0,t.jsx)(N,{scope:e.__scopeAccordion,collapsible:d,children:(0,t.jsx)(A,{...n,ref:o})})})}),T=s.default.forwardRef((e,o)=>{let{value:a,defaultValue:r,onValueChange:l=()=>{},...d}=e,[n,c]=(0,i.useControllableState)({prop:a,defaultProp:null!=r?r:[],onChange:l,caller:m}),u=s.default.useCallback(e=>c(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...t,e]}),[c]),h=s.default.useCallback(e=>c(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.filter(t=>t!==e)}),[c]);return(0,t.jsx)(C,{scope:e.__scopeAccordion,value:n,onItemOpen:u,onItemClose:h,children:(0,t.jsx)(N,{scope:e.__scopeAccordion,collapsible:!0,children:(0,t.jsx)(A,{...d,ref:o})})})}),[k,D]=g(m),A=s.default.forwardRef((e,o)=>{let{__scopeAccordion:a,disabled:i,dir:n,orientation:c="vertical",...m}=e,p=s.default.useRef(null),g=(0,r.useComposedRefs)(p,o),j=f(a),v="ltr"===(0,u.useDirection)(n),y=(0,l.composeEventHandlers)(e.onKeyDown,e=>{var t;if(!h.includes(e.key))return;let s=e.target,o=j().filter(e=>{var t;return!(null==(t=e.ref.current)?void 0:t.disabled)}),a=o.findIndex(e=>e.ref.current===s),r=o.length;if(-1===a)return;e.preventDefault();let l=a,i=r-1,d=()=>{(l=a+1)>i&&(l=0)},n=()=>{(l=a-1)<0&&(l=i)};switch(e.key){case"Home":l=0;break;case"End":l=i;break;case"ArrowRight":"horizontal"===c&&(v?d():n());break;case"ArrowDown":"vertical"===c&&d();break;case"ArrowLeft":"horizontal"===c&&(v?n():d());break;case"ArrowUp":"vertical"===c&&n()}null==(t=o[l%r].ref.current)||t.focus()});return(0,t.jsx)(k,{scope:a,disabled:i,direction:n,orientation:c,children:(0,t.jsx)(x.Slot,{scope:a,children:(0,t.jsx)(d.Primitive.div,{...m,"data-orientation":c,ref:g,onKeyDown:i?void 0:y})})})}),F="AccordionItem",[I,V]=g(F),q=s.default.forwardRef((e,s)=>{let{__scopeAccordion:o,value:a,...r}=e,l=D(F,o),i=b(F,o),d=v(o),u=(0,c.useId)(),m=a&&i.value.includes(a)||!1,h=l.disabled||e.disabled;return(0,t.jsx)(I,{scope:o,open:m,disabled:h,triggerId:u,children:(0,t.jsx)(n.Root,{"data-orientation":l.orientation,"data-state":L(m),...d,...r,ref:s,disabled:h,open:m,onOpenChange:e=>{e?i.onItemOpen(a):i.onItemClose(a)}})})});q.displayName=F;var z="AccordionHeader",_=s.default.forwardRef((e,s)=>{let{__scopeAccordion:o,...a}=e,r=D(m,o),l=V(z,o);return(0,t.jsx)(d.Primitive.h3,{"data-orientation":r.orientation,"data-state":L(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:s})});_.displayName=z;var E="AccordionTrigger",S=s.default.forwardRef((e,s)=>{let{__scopeAccordion:o,...a}=e,r=D(m,o),l=V(E,o),i=M(E,o),d=v(o);return(0,t.jsx)(x.ItemSlot,{scope:o,children:(0,t.jsx)(n.Trigger,{"aria-disabled":l.open&&!i.collapsible||void 0,"data-orientation":r.orientation,id:l.triggerId,...d,...a,ref:s})})});S.displayName=E;var B="AccordionContent",P=s.default.forwardRef((e,s)=>{let{__scopeAccordion:o,...a}=e,r=D(m,o),l=V(B,o),i=v(o);return(0,t.jsx)(n.Content,{role:"region","aria-labelledby":l.triggerId,"data-orientation":r.orientation,...i,...a,ref:s,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function L(e){return e?"open":"closed"}P.displayName=B;var H=e.i(570287),O=e.i(975157);function R(e){let{...s}=e;return(0,t.jsx)(y,{"data-slot":"accordion",...s})}function G(e){let{className:s,...o}=e;return(0,t.jsx)(q,{"data-slot":"accordion-item",className:(0,O.cn)("border-b last:border-b-0",s),...o})}function U(e){let{className:s,children:o,...a}=e;return(0,t.jsx)(_,{className:"flex",children:(0,t.jsxs)(S,{"data-slot":"accordion-trigger",className:(0,O.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",s),...a,children:[o,(0,t.jsx)(H.ChevronDownIcon,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function K(e){let{className:s,children:o,...a}=e;return(0,t.jsx)(P,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...a,children:(0,t.jsx)("div",{className:(0,O.cn)("pt-0 pb-4",s),children:o})})}},492607,e=>{"use strict";e.s(["default",()=>k],492607);var t=e.i(765830),s=e.i(519455),o=e.i(776639),a=e.i(903133),r=e.i(793479),l=e.i(433142),i=e.i(557076),d=e.i(821094),n=e.i(441648),c=e.i(806746),u=e.i(297117);let m=u.z.object({title:u.z.string().min(2,{message:"Module title must be at least 2 characters."}),duration:u.z.string().optional(),order:u.z.number().min(1,{message:"Order must be at least 1."})});function h(e){let{isOpen:u,onClose:h,courseId:x}=e,[f,{isLoading:p}]=(0,l.useCreateCourseModuleMutation)(),g=(0,n.useForm)({resolver:(0,i.zodResolver)(m),defaultValues:{title:"",duration:"",order:1}}),j=async e=>{try{let t={...e,courseId:x,moduleNumber:Date.now()};console.log("Creating module:",t),(await f(t).unwrap()).success&&(c.toast.success("Module created successfully!"),g.reset(),h()),h()}catch(e){if(409===e.status)return void c.toast.error("Module with this order already exists. Please choose a different order.");c.toast.error("Failed to create module. Please try again."),console.error(e)}finally{}};return(0,t.jsx)(o.Dialog,{open:u,onOpenChange:h,children:(0,t.jsxs)(o.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(o.DialogHeader,{children:[(0,t.jsx)(o.DialogTitle,{children:"Create New Module"}),(0,t.jsx)(o.DialogDescription,{children:"Add a new module to organize your course content."})]}),(0,t.jsx)(a.Form,{...g,children:(0,t.jsxs)("form",{onSubmit:g.handleSubmit(j),className:"space-y-4",children:[(0,t.jsx)(a.FormField,{control:g.control,name:"title",render:e=>{let{field:s}=e;return(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Module Title *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(r.Input,{placeholder:"Enter module title",...s})}),(0,t.jsx)(a.FormMessage,{})]})}}),(0,t.jsx)(a.FormField,{control:g.control,name:"duration",render:e=>{let{field:s}=e;return(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Duration (Optional)"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(r.Input,{placeholder:"e.g., 2 hours, 3 weeks",...s})}),(0,t.jsx)(a.FormMessage,{})]})}}),(0,t.jsx)(a.FormField,{control:g.control,name:"order",render:e=>{let{field:s}=e;return(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Order *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(r.Input,{type:"number",min:"1",placeholder:"Enter module order",...s,onChange:e=>s.onChange(parseInt(e.target.value)||1)})}),(0,t.jsx)(a.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:h,children:"Cancel"}),(0,t.jsx)(s.Button,{type:"submit",disabled:p,children:p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Module"})]})]})})]})})}var x=e.i(515288),f=e.i(302747);function p(){return(0,t.jsx)(x.Card,{className:"overflow-hidden",children:(0,t.jsx)(x.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)(f.Skeleton,{className:"w-10 h-10 rounded-full"}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)(f.Skeleton,{className:"h-6 w-48 mb-2"}),(0,t.jsx)(f.Skeleton,{className:"h-4 w-32"})]})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)(f.Skeleton,{className:"h-8 w-16"}),(0,t.jsx)(f.Skeleton,{className:"h-8 w-18"})]})]})})})}var g=e.i(273443),j=e.i(524435),v=e.i(798794),y=e.i(889889),C=e.i(362434),b=e.i(960694),N=e.i(972893),M=e.i(321336),w=e.i(38510),T=e.i(906943);function k(){let e=(0,w.useParams)(),[o,a]=(0,T.useState)(!1),[r,i]=(0,T.useState)(!1),[d,n]=(0,T.useState)(!1),[u,m]=(0,T.useState)(null),[f,k]=(0,T.useState)(null),{data:D,isLoading:A}=(0,l.useGetCourseModulesByCourseIdQuery)(e.slug),[F,{isLoading:I}]=(0,v.useDeleteModuleVideoMutation)(),[V,{isLoading:q}]=(0,l.useDeleteCourseModuleMutation)(),z=(null==D?void 0:D.data)||[],_=async()=>{if(e.slug&&u)try{await F(u.id).unwrap(),i(!1),m(null),c.toast.success("Video deleted successfully")}catch(e){console.error("Failed to delete video:",e),c.toast.error("Failed to delete video")}},E=async()=>{if(e.slug&&f)try{await V(f.id).unwrap(),n(!1),k(null),c.toast.success("Module deleted successfully")}catch(e){console.error("Failed to delete module:",e),c.toast.error("Failed to delete module")}};return(0,t.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Modules"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Organize your course content into modules"})]})}),(0,t.jsxs)(s.Button,{onClick:()=>a(!0),children:[(0,t.jsx)(b.Plus,{className:"w-4 h-4 mr-2"}),"Add Module"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:A?(0,t.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(p,{},s))}):(0,t.jsx)(g.Accordion,{type:"multiple",className:"space-y-4",children:z.map(o=>{var a;return(0,t.jsx)(g.AccordionItem,{value:o._id,className:"border-0",children:(0,t.jsxs)(x.Card,{className:"overflow-hidden",children:[(0,t.jsx)(x.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)("span",{className:"font-semibold",children:o.order})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(g.AccordionTrigger,{className:"hover:no-underline p-0 [&>svg]:hidden",children:(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)(x.CardTitle,{className:"text-xl",children:o.title}),(0,t.jsxs)(x.CardDescription,{children:[o.duration," • ",(null==(a=o.videos)?void 0:a.length)||0," videos"]})]})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,t.jsxs)(M.default,{href:"/instructor-dashboard/courses/".concat(e.slug,"/modules/").concat(o._id,"/edit"),children:[(0,t.jsx)(y.Edit,{className:"w-4 h-4 mr-1"}),"Edit"]})}),(0,t.jsxs)(s.Button,{variant:"destructive",size:"sm",className:"cursor-pointer",onClick:()=>{k({id:o._id,title:o.title}),n(!0)},children:[(0,t.jsx)(N.Trash2,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]})}),(0,t.jsx)(g.AccordionContent,{children:(0,t.jsx)(x.CardContent,{className:"pt-0",children:o.videos&&o.videos.length>0?(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"font-medium",children:"Module Videos"}),(0,t.jsx)(s.Button,{size:"sm",asChild:!0,children:(0,t.jsxs)(M.default,{href:"/instructor-dashboard/courses/".concat(e.slug,"/modules/").concat(o._id,"/videos/create"),children:[(0,t.jsx)(b.Plus,{className:"w-4 h-4 mr-1"}),"Add Video"]})})]}),(0,t.jsx)("div",{className:"space-y-2",children:o.videos.map((a,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded bg-muted flex items-center justify-center",children:a.videoNumber}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium",children:a.title||"Video ".concat(r+1)}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Video ",r+1," • ",a.duration||"Duration not set"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",asChild:!0,children:(0,t.jsx)(M.default,{href:"/instructor-dashboard/courses/".concat(e.slug,"/modules/").concat(o._id,"/videos/").concat(a._id,"/edit"),children:(0,t.jsx)(y.Edit,{className:"w-4 h-4"})})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{m({id:a._id,title:a.title||"Video ".concat(r+1)}),i(!0)},children:(0,t.jsx)(N.Trash2,{className:"w-4 h-4 text-red-500"})})]})]},a._id||r))})]}):(0,t.jsxs)("div",{className:"text-center py-8 border border-dashed rounded-lg",children:[(0,t.jsx)(C.FileText,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h4",{className:"font-medium mb-2",children:"No videos yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Start by adding videos to this module"}),(0,t.jsx)(s.Button,{asChild:!0,children:(0,t.jsxs)(M.default,{href:"/instructor-dashboard/courses/".concat(e.slug,"/modules/").concat(o._id,"/videos/create"),children:[(0,t.jsx)(b.Plus,{className:"w-4 h-4 mr-2"}),"Add First Video"]})})]})})})]})},o._id)})})}),0===z.length&&(0,t.jsx)(x.Card,{children:(0,t.jsxs)(x.CardContent,{className:"text-center py-12",children:[(0,t.jsx)(C.FileText,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No modules yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Start building your course by creating the first module"}),(0,t.jsxs)(s.Button,{onClick:()=>a(!0),children:[(0,t.jsx)(b.Plus,{className:"w-4 h-4 mr-2"}),"Create First Module"]})]})}),(0,t.jsx)(h,{isOpen:o,onClose:()=>a(!1),courseId:e.slug}),(0,t.jsx)(j.ConfirmationModal,{isOpen:r,onClose:()=>{i(!1),m(null)},onConfirm:_,title:"Delete Video",description:'Are you sure you want to delete "'.concat(null==u?void 0:u.title,'"? This action cannot be undone and will permanently remove the video from this module.'),confirmText:"Delete Video",isLoading:I,variant:"destructive"}),(0,t.jsx)(j.ConfirmationModal,{isOpen:d,onClose:()=>{n(!1),k(null)},onConfirm:E,title:"Delete Module",description:'Are you sure you want to delete "'.concat(null==f?void 0:f.title,'"? This action cannot be undone and will permanently remove the entire module and all its videos.'),confirmText:"Delete Module",isLoading:q,variant:"destructive"})]})})}}]);
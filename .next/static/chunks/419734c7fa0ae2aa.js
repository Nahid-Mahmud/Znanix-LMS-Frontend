(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,377250,t=>{"use strict";t.s(["textile",()=>s]);var e={addition:"inserted",attributes:"propertyName",bold:"strong",cite:"keyword",code:"monospace",definitionList:"list",deletion:"deleted",div:"punctuation",em:"emphasis",footnote:"variable",footCite:"qualifier",header:"heading",html:"comment",image:"atom",italic:"emphasis",link:"link",linkDefinition:"link",list1:"list",list2:"list.special",list3:"list",notextile:"string.special",pre:"operator",p:"content",quote:"bracket",span:"quote",specialChar:"character",strong:"strong",sub:"content.special",sup:"content.special",table:"variableName.special",tableHeading:"operator"};function n(t,n,r){if("_"===r)if(t.eat("_"))return i(t,n,"italic",/__/,2);else return i(t,n,"em",/_/,1);if("*"===r)return t.eat("*")?i(t,n,"bold",/\*\*/,2):i(t,n,"strong",/\*/,1);if("["===r)return t.match(/\d+\]/)&&(n.footCite=!0),a(n);if("("===r&&t.match(/^(r|tm|c)\)/))return e.specialChar;if("<"===r&&t.match(/(\w+)[^>]+>[^<]+<\/\1>/))return e.html;if("?"===r&&t.eat("?"))return i(t,n,"cite",/\?\?/,2);if("="===r&&t.eat("="))return i(t,n,"notextile",/==/,2);if("-"===r&&!t.eat("-"))return i(t,n,"deletion",/-/,1);if("+"===r)return i(t,n,"addition",/\+/,1);if("~"===r)return i(t,n,"sub",/~/,1);if("^"===r)return i(t,n,"sup",/\^/,1);if("%"===r)return i(t,n,"span",/%/,1);if("@"===r)return i(t,n,"code",/@/,1);if("!"===r){var l=i(t,n,"image",/(?:\([^\)]+\))?!/,1);return t.match(/^:\S+/),l}return a(n)}function i(t,e,n,i,r){var l=t.pos>r?t.string.charAt(t.pos-r-1):null,o=t.peek();if(e[n]){if((!o||/\W/.test(o))&&l&&/\S/.test(l)){var s=a(e);return e[n]=!1,s}}else(!l||/\W/.test(l))&&o&&/\S/.test(o)&&t.match(RegExp("^.*\\S"+i.source+"(?:\\W|$)"),!1)&&(e[n]=!0,e.mode=u.attributes);return a(e)}function a(t){var n=r(t);if(n)return n;var i=[];return t.layoutType&&i.push(e[t.layoutType]),i=i.concat(function(t){for(var n=[],i=1;i<arguments.length;++i)t[arguments[i]]&&n.push(e[arguments[i]]);return n}(t,"addition","bold","cite","code","deletion","em","footCite","image","italic","link","span","strong","sub","sup","table","tableHeading")),"header"===t.layoutType&&i.push(e.header+"-"+t.header),i.length?i.join(" "):null}function r(t){var n=t.layoutType;switch(n){case"notextile":case"code":case"pre":return e[n];default:if(t.notextile)return e.notextile+(n?" "+e[n]:"");return null}}var l={cache:{},single:{bc:"bc",bq:"bq",definitionList:/- .*?:=+/,definitionListEnd:/.*=:\s*$/,div:"div",drawTable:/\|.*\|/,foot:/fn\d+/,header:/h[1-6]/,html:/\s*<(?:\/)?(\w+)(?:[^>]+)?>(?:[^<]+<\/\1>)?/,link:/[^"]+":\S/,linkDefinition:/\[[^\s\]]+\]\S+/,list:/(?:#+|\*+)/,notextile:"notextile",para:"p",pre:"pre",table:"table",tableCellAttributes:/[\/\\]\d+/,tableHeading:/\|_\./,tableText:/[^"_\*\[\(\?\+~\^%@|-]+/,text:/[^!"_=\*\[\(<\?\+~\^%@-]+/},attributes:{align:/(?:<>|<|>|=)/,selector:/\([^\(][^\)]+\)/,lang:/\[[^\[\]]+\]/,pad:/(?:\(+|\)+){1,2}/,css:/\{[^\}]+\}/},createRe:function(t){switch(t){case"drawTable":return l.makeRe("^",l.single.drawTable,"$");case"html":return l.makeRe("^",l.single.html,"(?:",l.single.html,")*","$");case"linkDefinition":return l.makeRe("^",l.single.linkDefinition,"$");case"listLayout":return l.makeRe("^",l.single.list,o("allAttributes"),"*\\s+");case"tableCellAttributes":return l.makeRe("^",l.choiceRe(l.single.tableCellAttributes,o("allAttributes")),"+\\.");case"type":return l.makeRe("^",o("allTypes"));case"typeLayout":return l.makeRe("^",o("allTypes"),o("allAttributes"),"*\\.\\.?","(\\s+|$)");case"attributes":return l.makeRe("^",o("allAttributes"),"+");case"allTypes":return l.choiceRe(l.single.div,l.single.foot,l.single.header,l.single.bc,l.single.bq,l.single.notextile,l.single.pre,l.single.table,l.single.para);case"allAttributes":return l.choiceRe(l.attributes.selector,l.attributes.css,l.attributes.lang,l.attributes.align,l.attributes.pad);default:return l.makeRe("^",l.single[t])}},makeRe:function(){for(var t="",e=0;e<arguments.length;++e){var n=arguments[e];t+="string"==typeof n?n:n.source}return new RegExp(t)},choiceRe:function(){for(var t=[arguments[0]],e=1;e<arguments.length;++e)t[2*e-1]="|",t[2*e]=arguments[e];return t.unshift("(?:"),t.push(")"),l.makeRe.apply(null,t)}};function o(t){return l.cache[t]||(l.cache[t]=l.createRe(t))}var u={newLayout:function(t,e){var n;return t.match(o("typeLayout"),!1)?(e.spanningLayout=!1,(e.mode=u.blockType)(t,e)):(!r(e)&&(t.match(o("listLayout"),!1)?n=u.list:t.match(o("drawTable"),!1)?n=u.table:t.match(o("linkDefinition"),!1)?n=u.linkDefinition:t.match(o("definitionList"))?n=u.definitionList:t.match(o("html"),!1)&&(n=u.html)),(e.mode=n||u.text)(t,e))},blockType:function(t,e){var n,i;return(e.layoutType=null,n=t.match(o("type")))?((n=(i=n[0]).match(o("header")))?(e.layoutType="header",e.header=parseInt(n[0][1])):i.match(o("bq"))?e.layoutType="quote":i.match(o("bc"))?e.layoutType="code":i.match(o("foot"))?e.layoutType="footnote":i.match(o("notextile"))?e.layoutType="notextile":i.match(o("pre"))?e.layoutType="pre":i.match(o("div"))?e.layoutType="div":i.match(o("table"))&&(e.layoutType="table"),e.mode=u.attributes,a(e)):(e.mode=u.text)(t,e)},text:function(t,e){if(t.match(o("text")))return a(e);var i=t.next();return'"'===i?(e.mode=u.link)(t,e):n(t,e,i)},attributes:function(t,n){return(n.mode=u.layoutLength,t.match(o("attributes")))?e.attributes:a(n)},layoutLength:function(t,e){return t.eat(".")&&t.eat(".")&&(e.spanningLayout=!0),e.mode=u.text,a(e)},list:function(t,e){e.listDepth=t.match(o("list"))[0].length;var n=(e.listDepth-1)%3;return n?1===n?e.layoutType="list2":e.layoutType="list3":e.layoutType="list1",e.mode=u.attributes,a(e)},link:function(t,n){return(n.mode=u.text,t.match(o("link")))?(t.match(/\S+/),e.link):a(n)},linkDefinition:function(t){return t.skipToEnd(),e.linkDefinition},definitionList:function(t,e){return t.match(o("definitionList")),e.layoutType="definitionList",t.match(/\s*$/)?e.spanningLayout=!0:e.mode=u.attributes,a(e)},html:function(t){return t.skipToEnd(),e.html},table:function(t,e){return e.layoutType="table",(e.mode=u.tableCell)(t,e)},tableCell:function(t,e){return t.match(o("tableHeading"))?e.tableHeading=!0:t.eat("|"),e.mode=u.tableCellAttributes,a(e)},tableCellAttributes:function(t,n){return(n.mode=u.tableText,t.match(o("tableCellAttributes")))?e.attributes:a(n)},tableText:function(t,e){return t.match(o("tableText"))?a(e):"|"===t.peek()?(e.mode=u.tableCell,a(e)):n(t,e,t.next())}};let s={name:"textile",startState:function(){return{mode:u.newLayout}},token:function(t,e){return t.sol()&&(e.mode=u.newLayout,e.tableHeading=!1,"definitionList"===e.layoutType&&e.spanningLayout&&t.match(o("definitionListEnd"),!1)&&(e.spanningLayout=!1)),e.mode(t,e)},blankLine:function(t){var e=t.spanningLayout,n=t.layoutType;for(var i in t)t.hasOwnProperty(i)&&delete t[i];t.mode=u.newLayout,e&&(t.layoutType=n,t.spanningLayout=!0)}}}]);
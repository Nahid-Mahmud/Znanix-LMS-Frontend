module.exports=[730877,a=>{"use strict";a.s(["default",()=>v],730877);var b=a.i(669720),c=a.i(786304),d=a.i(699570),e=a.i(591119),f=a.i(173390),g=a.i(333140),h=a.i(875083),i=a.i(402324),j=a.i(201681),k=a.i(200404),l=a.i(832281),m=a.i(587284),n=a.i(567424),o=a.i(318618);let p=(0,a.i(51827).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);var q=a.i(570342),r=a.i(803749),s=a.i(702485),t=a.i(229611);function u(){let{data:a,isLoading:u}=(0,i.useMyCourseStatsQuery)(void 0),[v,w]=(0,t.useState)("courses"),{data:x,isLoading:y}=(0,i.useGetMyCoursesQuery)(void 0);console.log(x);let z=x?.data?.map(a=>({id:a._id,title:a.courseId.name,instructor:`${a.courseId.instructor.firstName} ${a.courseId.instructor.lastName}`,instructorImage:a.courseId.instructor.profilePicture,thumbnail:a.courseId.thumbnail,progress:a.progress,totalModules:a.courseId.courseModules?.length||0,completedModules:Math.floor(a.progress/100*(a.courseId.courseModules?.length||0)),totalVideos:a.courseId.courseModules?.reduce((a,b)=>a+(b.videos?.length||0),0)||0,completedVideos:Math.floor(a.progress/100*(a.courseId.courseModules?.reduce((a,b)=>a+(b.videos?.length||0),0)||0)),duration:a.courseId.courseDuration,rating:4.8,lastWatched:new Date(a.updatedAt).toISOString().split("T")[0],nextVideo:a.courseId.courseModules?.[0]?.videos?.[0]?.title||"Start Learning",certificate:a.courseId.certificate,purchased:new Date(a.enrollmentDate).toISOString().split("T")[0],status:a.status,description:a.courseId.description,price:a.courseId.price,type:a.courseId.type,courseId:a.courseId._id}))||[],A={totalCourses:a?.data?.totalEnrolledCourses||z.length,completedCourses:a?.data?.completedCourses||z.filter(a=>100===a.progress).length,inProgressCourses:a?.data?.coursesInProgress||z.filter(a=>a.progress>0&&a.progress<100).length,totalWatchTime:`${a?.data?.totalLearningHours||0} hours`,certificatesEarned:a?.data?.completedCourses||z.filter(a=>100===a.progress&&a.certificate).length},B=(0,s.useSearchParams)();return console.log(B.get("tab")),(0,t.useEffect)(()=>{let a=B.get("tab");a?w(a):w("courses")},[B]),(0,b.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsx)("div",{className:"flex justify-between items-start",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"My Learning Dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Track your progress and continue learning"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u?(0,b.jsx)(b.Fragment,{children:[1,2,3,4].map(a=>(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-24"}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-4"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-16 mb-2"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-20"})]})]},a))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Enrolled Courses"}),(0,b.jsx)(k.BookOpen,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A.totalCourses}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[A.inProgressCourses," in progress"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Completed"}),(0,b.jsx)(l.CheckCircle,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A.completedCourses}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[A.totalCourses>0?Math.round(A.completedCourses/A.totalCourses*100):0,"% completion rate"]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Watch Time"}),(0,b.jsx)(m.Clock,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A.totalWatchTime}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(e.CardTitle,{className:"text-sm font-medium",children:"Certificates"}),(0,b.jsx)(j.Award,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:A.certificatesEarned}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Earned this year"})]})]})]})}),(0,b.jsxs)(h.Tabs,{value:v,onValueChange:w,defaultValue:"courses",className:"space-y-6",children:[(0,b.jsxs)(h.TabsList,{children:[(0,b.jsx)(h.TabsTrigger,{value:"courses",children:"My Courses"}),(0,b.jsx)(h.TabsTrigger,{value:"continue",children:"Continue Learning"}),(0,b.jsx)(h.TabsTrigger,{value:"completed",children:"Completed"}),(0,b.jsx)(h.TabsTrigger,{value:"certificates",children:"Certificates"})]}),(0,b.jsx)(h.TabsContent,{value:"courses",children:y?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>(0,b.jsxs)(e.Card,{className:"overflow-hidden",children:[(0,b.jsx)(g.Skeleton,{className:"w-full h-48"}),(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/2"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-2 w-full"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/3"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(g.Skeleton,{className:"h-3 w-12"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-8"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(g.Skeleton,{className:"h-3 w-12"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-8"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)(g.Skeleton,{className:"h-3 w-12"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-16"})]})]})]},a))}):0===z.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(k.BookOpen,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No courses yet"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start your learning journey by enrolling in a course"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:z.map(a=>(0,b.jsxs)(e.Card,{className:"overflow-hidden hover:shadow-lg transition-shadow p-0",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(q.default,{src:a.thumbnail,alt:a.title,width:400,height:200,className:"w-full h-48 object-cover"}),(0,b.jsx)("div",{className:"absolute top-4 right-4",children:(0,b.jsx)(c.Badge,{variant:100===a.progress?"default":"secondary",children:100===a.progress?"Completed":`${a.progress}%`})}),(0,b.jsx)("div",{className:"absolute bottom-4 right-4",children:(0,b.jsx)(d.Button,{size:"sm",asChild:!0,children:(0,b.jsxs)(r.default,{href:`/student-dashboard/courses/${a.courseId}`,children:[(0,b.jsx)(n.Play,{className:"w-4 h-4 mr-1"}),a.progress>0?"Continue":"Start"]})})})]}),(0,b.jsxs)(e.CardHeader,{className:"pb-3",children:[(0,b.jsx)(e.CardTitle,{className:"text-lg line-clamp-2",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(q.default,{src:a.instructorImage,alt:a.instructor,width:20,height:20,className:"w-5 h-5 rounded-full"}),(0,b.jsx)("span",{children:a.instructor})]})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Progress"}),(0,b.jsxs)("span",{children:[a.progress,"%"]})]}),(0,b.jsx)(f.Progress,{value:a.progress,className:"h-2"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-muted-foreground",children:"Modules"}),(0,b.jsxs)("div",{className:"font-medium",children:[a.completedModules,"/",a.totalModules]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-muted-foreground",children:"Videos"}),(0,b.jsxs)("div",{className:"font-medium",children:[a.completedVideos,"/",a.totalVideos]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.Star,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{children:a.rating})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(m.Clock,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:a.duration})]})]})]})]},a.id))})}),(0,b.jsx)(h.TabsContent,{value:"continue",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Pick up where you left off"}),y?(0,b.jsx)("div",{className:"space-y-4",children:[1,2].map(a=>(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(g.Skeleton,{className:"w-30 h-20 rounded"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/2"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(g.Skeleton,{className:"h-2 flex-1"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-8"})]})]}),(0,b.jsx)(g.Skeleton,{className:"w-20 h-8 rounded"})]})},a))}):(0,b.jsxs)("div",{className:"grid gap-4",children:[z.filter(a=>a.progress>0&&a.progress<100).map(a=>(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(q.default,{src:a.thumbnail,alt:a.title,width:120,height:80,className:"w-30 h-20 object-cover rounded"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Next: ",a.nextVideo]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(f.Progress,{value:a.progress,className:"h-2"})}),(0,b.jsxs)("span",{className:"text-sm text-muted-foreground",children:[a.progress,"%"]})]})]}),(0,b.jsx)(d.Button,{asChild:!0,children:(0,b.jsxs)(r.default,{href:`/student-dashboard/courses/${a.id}`,children:[(0,b.jsx)(n.Play,{className:"w-4 h-4 mr-2"}),"Continue"]})})]})},a.id)),0===z.filter(a=>a.progress>0&&a.progress<100).length&&!y&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(m.Clock,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No courses in progress"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start learning to see your progress here"})]})]})]})}),(0,b.jsx)(h.TabsContent,{value:"completed",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Completed Courses"}),y?(0,b.jsx)("div",{className:"space-y-4",children:[1,2].map(a=>(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(g.Skeleton,{className:"w-30 h-20 rounded"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"h-4 w-3/4"}),(0,b.jsx)(g.Skeleton,{className:"h-5 w-16 rounded-full"})]}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/2"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-2/3"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Skeleton,{className:"w-16 h-8 rounded"}),(0,b.jsx)(g.Skeleton,{className:"w-24 h-8 rounded"})]})]})},a))}):(0,b.jsxs)("div",{className:"grid gap-4",children:[z.filter(a=>100===a.progress).map(a=>(0,b.jsx)(e.Card,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)(q.default,{src:a.thumbnail,alt:a.title,width:120,height:80,className:"w-30 h-20 object-cover rounded"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.title}),(0,b.jsx)(c.Badge,{variant:"default",children:"Completed"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["by ",a.instructor]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(l.CheckCircle,{className:"w-4 h-4 text-green-500"}),(0,b.jsxs)("span",{className:"text-sm text-green-600",children:["Course completed • ",a.certificate?"Certificate available":"No certificate"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.Button,{variant:"outline",asChild:!0,children:(0,b.jsx)(r.default,{href:`/student-dashboard/courses/${a.id}`,children:"Review"})}),a.certificate&&(0,b.jsx)(d.Button,{asChild:!0,children:(0,b.jsxs)(r.default,{href:`/student-dashboard/certificates/${a.id}`,children:[(0,b.jsx)(j.Award,{className:"w-4 h-4 mr-2"}),"Certificate"]})})]})]})},a.id)),0===z.filter(a=>100===a.progress).length&&!y&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(p,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No completed courses yet"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Complete your first course to see it here"})]})]})]})}),(0,b.jsx)(h.TabsContent,{value:"certificates",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"My Certificates"}),y?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(a=>(0,b.jsxs)(e.Card,{className:"text-center p-6",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(g.Skeleton,{className:"w-16 h-16 mx-auto rounded"})}),(0,b.jsx)(g.Skeleton,{className:"h-4 w-3/4 mx-auto mb-2"}),(0,b.jsx)(g.Skeleton,{className:"h-3 w-1/2 mx-auto mb-4"}),(0,b.jsx)(g.Skeleton,{className:"h-8 w-full rounded"})]},a))}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[z.filter(a=>100===a.progress&&a.certificate).map(a=>(0,b.jsxs)(e.Card,{className:"text-center p-6",children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(j.Award,{className:"w-16 h-16 mx-auto text-yellow-500"})}),(0,b.jsx)("h3",{className:"font-semibold mb-2",children:a.title}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:["Completed on ",new Date(a.lastWatched).toLocaleDateString()]}),(0,b.jsx)(d.Button,{className:"w-full",asChild:!0,children:(0,b.jsx)(r.default,{href:`/student-dashboard/certificates/${a.id}`,children:"Download Certificate"})})]},a.id)),0===z.filter(a=>100===a.progress&&a.certificate).length&&!y&&(0,b.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,b.jsx)(j.Award,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No certificates yet"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Complete courses with certificates to earn your credentials"})]})]})]})})]})]})})}function v(){return(0,b.jsx)(t.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(u,{})})}}];

//# sourceMappingURL=src_app_%28dashboard%29_student-dashboard_page_tsx_5b820f4b._.js.map
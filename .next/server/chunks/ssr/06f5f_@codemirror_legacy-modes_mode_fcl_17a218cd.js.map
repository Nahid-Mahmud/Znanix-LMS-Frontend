{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@codemirror+legacy-modes@6.5.1/node_modules/@codemirror/legacy-modes/mode/fcl.js"],"sourcesContent":["var keywords = {\n  \"term\": true,\n  \"method\": true, \"accu\": true,\n  \"rule\": true, \"then\": true, \"is\": true, \"and\": true, \"or\": true,\n  \"if\": true, \"default\": true\n};\n\nvar start_blocks = {\n  \"var_input\": true,\n  \"var_output\": true,\n  \"fuzzify\": true,\n  \"defuzzify\": true,\n  \"function_block\": true,\n  \"ruleblock\": true\n};\n\nvar end_blocks = {\n  \"end_ruleblock\": true,\n  \"end_defuzzify\": true,\n  \"end_function_block\": true,\n  \"end_fuzzify\": true,\n  \"end_var\": true\n};\n\nvar atoms = {\n  \"true\": true, \"false\": true, \"nan\": true,\n  \"real\": true, \"min\": true, \"max\": true, \"cog\": true, \"cogs\": true\n};\n\nvar isOperatorChar = /[+\\-*&^%:=<>!|\\/]/;\n\nfunction tokenBase(stream, state) {\n  var ch = stream.next();\n\n  if (/[\\d\\.]/.test(ch)) {\n    if (ch == \".\") {\n      stream.match(/^[0-9]+([eE][\\-+]?[0-9]+)?/);\n    } else if (ch == \"0\") {\n      stream.match(/^[xX][0-9a-fA-F]+/) || stream.match(/^0[0-7]+/);\n    } else {\n      stream.match(/^[0-9]*\\.?[0-9]*([eE][\\-+]?[0-9]+)?/);\n    }\n    return \"number\";\n  }\n\n  if (ch == \"/\" || ch == \"(\") {\n    if (stream.eat(\"*\")) {\n      state.tokenize = tokenComment;\n      return tokenComment(stream, state);\n    }\n    if (stream.eat(\"/\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n  }\n  if (isOperatorChar.test(ch)) {\n    stream.eatWhile(isOperatorChar);\n    return \"operator\";\n  }\n  stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n\n  var cur = stream.current().toLowerCase();\n  if (keywords.propertyIsEnumerable(cur) ||\n      start_blocks.propertyIsEnumerable(cur) ||\n      end_blocks.propertyIsEnumerable(cur)) {\n    return \"keyword\";\n  }\n  if (atoms.propertyIsEnumerable(cur)) return \"atom\";\n  return \"variable\";\n}\n\n\nfunction tokenComment(stream, state) {\n  var maybeEnd = false, ch;\n  while (ch = stream.next()) {\n    if ((ch == \"/\" || ch == \")\") && maybeEnd) {\n      state.tokenize = tokenBase;\n      break;\n    }\n    maybeEnd = (ch == \"*\");\n  }\n  return \"comment\";\n}\n\nfunction Context(indented, column, type, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.align = align;\n  this.prev = prev;\n}\n\nfunction pushContext(state, col, type) {\n  return state.context = new Context(state.indented, col, type, null, state.context);\n}\n\nfunction popContext(state) {\n  if (!state.context.prev) return;\n  var t = state.context.type;\n  if (t == \"end_block\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\n// Interface\n\nexport const fcl = {\n  name: \"fcl\",\n  startState: function(indentUnit) {\n    return {\n      tokenize: null,\n      context: new Context(-indentUnit, 0, \"top\", false),\n      indented: 0,\n      startOfLine: true\n    };\n  },\n\n  token: function(stream, state) {\n    var ctx = state.context;\n    if (stream.sol()) {\n      if (ctx.align == null) ctx.align = false;\n      state.indented = stream.indentation();\n      state.startOfLine = true;\n    }\n    if (stream.eatSpace()) return null;\n\n    var style = (state.tokenize || tokenBase)(stream, state);\n    if (style == \"comment\") return style;\n    if (ctx.align == null) ctx.align = true;\n\n    var cur = stream.current().toLowerCase();\n\n    if (start_blocks.propertyIsEnumerable(cur)) pushContext(state, stream.column(), \"end_block\");\n    else if (end_blocks.propertyIsEnumerable(cur))  popContext(state);\n\n    state.startOfLine = false;\n    return style;\n  },\n\n  indent: function(state, textAfter, cx) {\n    if (state.tokenize != tokenBase && state.tokenize != null) return 0;\n    var ctx = state.context;\n\n    var closing = end_blocks.propertyIsEnumerable(textAfter);\n    if (ctx.align) return ctx.column + (closing ? 0 : 1);\n    else return ctx.indented + (closing ? 0 : cx.unit);\n  },\n\n  languageData: {\n    commentTokens: {line: \"//\", block: {open: \"(*\", close: \"*)\"}}\n  }\n};\n\n"],"names":[],"mappings":"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","ignoreList":[0]}
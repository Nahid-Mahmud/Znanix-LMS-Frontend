{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@codemirror+legacy-modes@6.5.1/node_modules/@codemirror/legacy-modes/mode/cmake.js"],"sourcesContent":["var variable_regex = /({)?[a-zA-Z0-9_]+(})?/;\n\nfunction tokenString(stream, state) {\n  var current, prev, found_var = false;\n  while (!stream.eol() && (current = stream.next()) != state.pending) {\n    if (current === '$' && prev != '\\\\' && state.pending == '\"') {\n      found_var = true;\n      break;\n    }\n    prev = current;\n  }\n  if (found_var) {\n    stream.backUp(1);\n  }\n  if (current == state.pending) {\n    state.continueString = false;\n  } else {\n    state.continueString = true;\n  }\n  return \"string\";\n}\n\nfunction tokenize(stream, state) {\n  var ch = stream.next();\n\n  // Have we found a variable?\n  if (ch === '$') {\n    if (stream.match(variable_regex)) {\n      return 'variableName.special';\n    }\n    return 'variable';\n  }\n  // Should we still be looking for the end of a string?\n  if (state.continueString) {\n    // If so, go through the loop again\n    stream.backUp(1);\n    return tokenString(stream, state);\n  }\n  // Do we just have a function on our hands?\n  // In 'cmake_minimum_required (VERSION 2.8.8)', 'cmake_minimum_required' is matched\n  if (stream.match(/(\\s+)?\\w+\\(/) || stream.match(/(\\s+)?\\w+\\ \\(/)) {\n    stream.backUp(1);\n    return 'def';\n  }\n  if (ch == \"#\") {\n    stream.skipToEnd();\n    return \"comment\";\n  }\n  // Have we found a string?\n  if (ch == \"'\" || ch == '\"') {\n    // Store the type (single or double)\n    state.pending = ch;\n    // Perform the looping function to find the end\n    return tokenString(stream, state);\n  }\n  if (ch == '(' || ch == ')') {\n    return 'bracket';\n  }\n  if (ch.match(/[0-9]/)) {\n    return 'number';\n  }\n  stream.eatWhile(/[\\w-]/);\n  return null;\n}\nexport const cmake = {\n  name: \"cmake\",\n  startState: function () {\n    var state = {};\n    state.inDefinition = false;\n    state.inInclude = false;\n    state.continueString = false;\n    state.pending = false;\n    return state;\n  },\n  token: function (stream, state) {\n    if (stream.eatSpace()) return null;\n    return tokenize(stream, state);\n  }\n};\n\n"],"names":[],"mappings":"6DAAA,IAAI,EAAiB,wBAErB,SAAS,EAAY,CAAM,CAAE,CAAK,EAEhC,IADA,IAAI,EAAS,EAAM,GAAY,EACxB,CAAC,EAAO,GAAG,IAAM,CAAC,EAAU,EAAO,IAAI,EAAA,CAAE,EAAK,EAAM,OAAO,EAAE,CAClE,GAAI,AAAY,SAAe,MAAR,GAAiC,KAAjB,EAAM,OAAO,CAAS,CAC3D,GAAY,EACZ,KACF,CACA,EAAO,CACT,CASA,OARI,GACF,EAAO,MADM,AACA,CAAC,GAEZ,GAAW,EAAM,OAAO,CAC1B,CAD4B,CACtB,cAAc,EAAG,EAEvB,EAAM,cAAc,EAAG,EAElB,QACT,CA4CO,IAAM,EAAQ,CACnB,KAAM,QACN,WAAY,WACV,IAAI,EAAQ,CAAC,EAKb,OAJA,EAAM,YAAY,EAAG,EACrB,EAAM,SAAS,EAAG,EAClB,EAAM,cAAc,EAAG,EACvB,EAAM,OAAO,EAAG,EACT,CACT,EACA,MAAO,SAAU,CAAM,CAAE,CAAK,EAC5B,GAAI,EAAO,QAAQ,GAAI,OAAO,SApD5B,EAAK,EAAO,IAAI,SAGpB,AAAW,KAAK,CAAZ,EACF,AAAI,EAAO,KAAK,CAAC,GACR,cADyB,SAG3B,WAGT,AAAI,EAAM,cAAc,EAAE,AAExB,EAAO,MAAM,CAAC,GACP,QAIL,EAAO,EAJU,GAIL,CAAC,IAJY,YAIM,EAAO,KAAK,CAAC,kBAAkB,AAChE,EAAO,MAAM,CAAC,GACP,OAEC,KAAN,AAAW,GACb,AA+BgB,EA/BT,SAAS,GACT,WAGC,KAAN,GAAmB,KAAN,AAAW,GA2BF,AAzBxB,EAAM,OAAO,CAAG,EAET,QAEC,IAFW,CAEjB,GAAmB,IAFM,CAEZ,AAAW,EACnB,UAEL,EAAG,KAAK,CAAC,SACJ,CADc,SAGvB,EAAO,QAAQ,CAAC,SACT,KAeP,CACF","ignoreList":[0]}
module.exports=[70715,a=>{"use strict";a.s(["textile",()=>j]);var b={addition:"inserted",attributes:"propertyName",bold:"strong",cite:"keyword",code:"monospace",definitionList:"list",deletion:"deleted",div:"punctuation",em:"emphasis",footnote:"variable",footCite:"qualifier",header:"heading",html:"comment",image:"atom",italic:"emphasis",link:"link",linkDefinition:"link",list1:"list",list2:"list.special",list3:"list",notextile:"string.special",pre:"operator",p:"content",quote:"bracket",span:"quote",specialChar:"character",strong:"strong",sub:"content.special",sup:"content.special",table:"variableName.special",tableHeading:"operator"};function c(a,c,f){if("_"===f)if(a.eat("_"))return d(a,c,"italic",/__/,2);else return d(a,c,"em",/_/,1);if("*"===f)return a.eat("*")?d(a,c,"bold",/\*\*/,2):d(a,c,"strong",/\*/,1);if("["===f)return a.match(/\d+\]/)&&(c.footCite=!0),e(c);if("("===f&&a.match(/^(r|tm|c)\)/))return b.specialChar;if("<"===f&&a.match(/(\w+)[^>]+>[^<]+<\/\1>/))return b.html;if("?"===f&&a.eat("?"))return d(a,c,"cite",/\?\?/,2);if("="===f&&a.eat("="))return d(a,c,"notextile",/==/,2);if("-"===f&&!a.eat("-"))return d(a,c,"deletion",/-/,1);if("+"===f)return d(a,c,"addition",/\+/,1);if("~"===f)return d(a,c,"sub",/~/,1);if("^"===f)return d(a,c,"sup",/\^/,1);if("%"===f)return d(a,c,"span",/%/,1);if("@"===f)return d(a,c,"code",/@/,1);if("!"===f){var g=d(a,c,"image",/(?:\([^\)]+\))?!/,1);return a.match(/^:\S+/),g}return e(c)}function d(a,b,c,d,f){var g=a.pos>f?a.string.charAt(a.pos-f-1):null,h=a.peek();if(b[c]){if((!h||/\W/.test(h))&&g&&/\S/.test(g)){var j=e(b);return b[c]=!1,j}}else(!g||/\W/.test(g))&&h&&/\S/.test(h)&&a.match(RegExp("^.*\\S"+d.source+"(?:\\W|$)"),!1)&&(b[c]=!0,b.mode=i.attributes);return e(b)}function e(a){var c=f(a);if(c)return c;var d=[];return a.layoutType&&d.push(b[a.layoutType]),d=d.concat(function(a){for(var c=[],d=1;d<arguments.length;++d)a[arguments[d]]&&c.push(b[arguments[d]]);return c}(a,"addition","bold","cite","code","deletion","em","footCite","image","italic","link","span","strong","sub","sup","table","tableHeading")),"header"===a.layoutType&&d.push(b.header+"-"+a.header),d.length?d.join(" "):null}function f(a){var c=a.layoutType;switch(c){case"notextile":case"code":case"pre":return b[c];default:if(a.notextile)return b.notextile+(c?" "+b[c]:"");return null}}var g={cache:{},single:{bc:"bc",bq:"bq",definitionList:/- .*?:=+/,definitionListEnd:/.*=:\s*$/,div:"div",drawTable:/\|.*\|/,foot:/fn\d+/,header:/h[1-6]/,html:/\s*<(?:\/)?(\w+)(?:[^>]+)?>(?:[^<]+<\/\1>)?/,link:/[^"]+":\S/,linkDefinition:/\[[^\s\]]+\]\S+/,list:/(?:#+|\*+)/,notextile:"notextile",para:"p",pre:"pre",table:"table",tableCellAttributes:/[\/\\]\d+/,tableHeading:/\|_\./,tableText:/[^"_\*\[\(\?\+~\^%@|-]+/,text:/[^!"_=\*\[\(<\?\+~\^%@-]+/},attributes:{align:/(?:<>|<|>|=)/,selector:/\([^\(][^\)]+\)/,lang:/\[[^\[\]]+\]/,pad:/(?:\(+|\)+){1,2}/,css:/\{[^\}]+\}/},createRe:function(a){switch(a){case"drawTable":return g.makeRe("^",g.single.drawTable,"$");case"html":return g.makeRe("^",g.single.html,"(?:",g.single.html,")*","$");case"linkDefinition":return g.makeRe("^",g.single.linkDefinition,"$");case"listLayout":return g.makeRe("^",g.single.list,h("allAttributes"),"*\\s+");case"tableCellAttributes":return g.makeRe("^",g.choiceRe(g.single.tableCellAttributes,h("allAttributes")),"+\\.");case"type":return g.makeRe("^",h("allTypes"));case"typeLayout":return g.makeRe("^",h("allTypes"),h("allAttributes"),"*\\.\\.?","(\\s+|$)");case"attributes":return g.makeRe("^",h("allAttributes"),"+");case"allTypes":return g.choiceRe(g.single.div,g.single.foot,g.single.header,g.single.bc,g.single.bq,g.single.notextile,g.single.pre,g.single.table,g.single.para);case"allAttributes":return g.choiceRe(g.attributes.selector,g.attributes.css,g.attributes.lang,g.attributes.align,g.attributes.pad);default:return g.makeRe("^",g.single[a])}},makeRe:function(){for(var a="",b=0;b<arguments.length;++b){var c=arguments[b];a+="string"==typeof c?c:c.source}return new RegExp(a)},choiceRe:function(){for(var a=[arguments[0]],b=1;b<arguments.length;++b)a[2*b-1]="|",a[2*b]=arguments[b];return a.unshift("(?:"),a.push(")"),g.makeRe.apply(null,a)}};function h(a){return g.cache[a]||(g.cache[a]=g.createRe(a))}var i={newLayout:function(a,b){var c;return a.match(h("typeLayout"),!1)?(b.spanningLayout=!1,(b.mode=i.blockType)(a,b)):(!f(b)&&(a.match(h("listLayout"),!1)?c=i.list:a.match(h("drawTable"),!1)?c=i.table:a.match(h("linkDefinition"),!1)?c=i.linkDefinition:a.match(h("definitionList"))?c=i.definitionList:a.match(h("html"),!1)&&(c=i.html)),(b.mode=c||i.text)(a,b))},blockType:function(a,b){var c,d;return(b.layoutType=null,c=a.match(h("type")))?((c=(d=c[0]).match(h("header")))?(b.layoutType="header",b.header=parseInt(c[0][1])):d.match(h("bq"))?b.layoutType="quote":d.match(h("bc"))?b.layoutType="code":d.match(h("foot"))?b.layoutType="footnote":d.match(h("notextile"))?b.layoutType="notextile":d.match(h("pre"))?b.layoutType="pre":d.match(h("div"))?b.layoutType="div":d.match(h("table"))&&(b.layoutType="table"),b.mode=i.attributes,e(b)):(b.mode=i.text)(a,b)},text:function(a,b){if(a.match(h("text")))return e(b);var d=a.next();return'"'===d?(b.mode=i.link)(a,b):c(a,b,d)},attributes:function(a,c){return(c.mode=i.layoutLength,a.match(h("attributes")))?b.attributes:e(c)},layoutLength:function(a,b){return a.eat(".")&&a.eat(".")&&(b.spanningLayout=!0),b.mode=i.text,e(b)},list:function(a,b){b.listDepth=a.match(h("list"))[0].length;var c=(b.listDepth-1)%3;return c?1===c?b.layoutType="list2":b.layoutType="list3":b.layoutType="list1",b.mode=i.attributes,e(b)},link:function(a,c){return(c.mode=i.text,a.match(h("link")))?(a.match(/\S+/),b.link):e(c)},linkDefinition:function(a){return a.skipToEnd(),b.linkDefinition},definitionList:function(a,b){return a.match(h("definitionList")),b.layoutType="definitionList",a.match(/\s*$/)?b.spanningLayout=!0:b.mode=i.attributes,e(b)},html:function(a){return a.skipToEnd(),b.html},table:function(a,b){return b.layoutType="table",(b.mode=i.tableCell)(a,b)},tableCell:function(a,b){return a.match(h("tableHeading"))?b.tableHeading=!0:a.eat("|"),b.mode=i.tableCellAttributes,e(b)},tableCellAttributes:function(a,c){return(c.mode=i.tableText,a.match(h("tableCellAttributes")))?b.attributes:e(c)},tableText:function(a,b){return a.match(h("tableText"))?e(b):"|"===a.peek()?(b.mode=i.tableCell,e(b)):c(a,b,a.next())}};let j={name:"textile",startState:function(){return{mode:i.newLayout}},token:function(a,b){return a.sol()&&(b.mode=i.newLayout,b.tableHeading=!1,"definitionList"===b.layoutType&&b.spanningLayout&&a.match(h("definitionListEnd"),!1)&&(b.spanningLayout=!1)),b.mode(a,b)},blankLine:function(a){var b=a.spanningLayout,c=a.layoutType;for(var d in a)a.hasOwnProperty(d)&&delete a[d];a.mode=i.newLayout,b&&(a.layoutType=c,a.spanningLayout=!0)}}}];

//# sourceMappingURL=06f5f_%40codemirror_legacy-modes_mode_textile_3d2b7e68.js.map
module.exports=[348713,a=>{"use strict";function b(a){for(var b={},c=0,d=a.length;c<d;++c)b[a[c]]=!0;return b}a.s(["ruby",()=>n]);var c,d=["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload","__END__","__FILE__","__LINE__","__dir__"],e=b(d),f=b(["def","class","case","for","while","until","module","catch","loop","proc","begin"]),g=b(["end","until"]),h={"[":"]","{":"}","(":")"},i={"]":"[","}":"{",")":"("};function j(a,b,c){return c.tokenize.push(a),a(b,c)}function k(a,b){if(a.sol()&&a.match("=begin")&&a.eol())return b.tokenize.push(m),"comment";if(a.eatSpace())return null;var d,e,f,g=a.next();if("`"==g||"'"==g||'"'==g)return j(l(g,"string",'"'==g||"`"==g),a,b);if("/"==g)if(function(a){for(var b,c=a.pos,d=0,e=!1,f=!1;null!=(b=a.next());)if(f)f=!1;else{if("[{(".indexOf(b)>-1)d++;else if("]})".indexOf(b)>-1){if(--d<0)break}else if("/"==b&&0==d){e=!0;break}f="\\"==b}return a.backUp(a.pos-c),e}(a))return j(l(g,"string.special",!0),a,b);else return"operator";if("%"==g){var i="string",k=!0;a.eat("s")?i="atom":a.eat(/[WQ]/)?i="string":a.eat(/[r]/)?i="string.special":a.eat(/[wxq]/)&&(i="string",k=!1);var n=a.eat(/[^\w\s=]/);return n?(h.propertyIsEnumerable(n)&&(n=h[n]),j(l(n,i,k,!0),a,b)):"operator"}if("#"==g)return a.skipToEnd(),"comment";if("<"==g&&(f=a.match(/^<([-~])[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/))){return j((d=f[2],e=f[1],function(a,b){return e&&a.eatSpace(),a.match(d)?b.tokenize.pop():a.skipToEnd(),"string"}),a,b)}else if("0"==g)return a.eat("x")?a.eatWhile(/[\da-fA-F]/):a.eat("b")?a.eatWhile(/[01]/):a.eatWhile(/[0-7]/),"number";else if(/\d/.test(g))return a.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";else if("?"==g){for(;a.match(/^\\[CM]-/););return a.eat("\\")?a.eatWhile(/\w/):a.next(),"string"}else{if(":"==g)return a.eat("'")?j(l("'","atom",!1),a,b):a.eat('"')?j(l('"',"atom",!0),a,b):a.eat(/[\<\>]/)?(a.eat(/[\<\>]/),"atom"):a.eat(/[\+\-\*\/\&\|\:\!]/)?"atom":a.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(a.eatWhile(/[\w$\xa1-\uffff]/),a.eat(/[\?\!\=]/),"atom"):"operator";if("@"==g&&a.match(/^@?[a-zA-Z_\xa1-\uffff]/))return a.eat("@"),a.eatWhile(/[\w\xa1-\uffff]/),"propertyName";if("$"==g)return a.eat(/[a-zA-Z_]/)?a.eatWhile(/[\w]/):a.eat(/\d/)?a.eat(/\d/):a.next(),"variableName.special";if(/[a-zA-Z_\xa1-\uffff]/.test(g))return(a.eatWhile(/[\w\xa1-\uffff]/),a.eat(/[\?\!]/),a.eat(":"))?"atom":"variable";if("|"==g&&(b.varList||"{"==b.lastTok||"do"==b.lastTok))return c="|",null;if(/[\(\)\[\]{}\\;]/.test(g))return c=g,null;if("-"==g&&a.eat(">"))return"operator";if(!/[=+\-\/*:\.^%<>~|]/.test(g))return null;var o=a.eatWhile(/[=+\-\/*:\.^%<>~|]/);return"."!=g||o||(c="."),"operator"}}function l(a,b,c,d){return function(e,f){var g,h=!1;for("read-quoted-paused"===f.context.type&&(f.context=f.context.prev,e.eat("}"));null!=(g=e.next());){if(g==a&&(d||!h)){f.tokenize.pop();break}if(c&&"#"==g&&!h){if(e.eat("{")){"}"==a&&(f.context={prev:f.context,type:"read-quoted-paused"}),f.tokenize.push(function a(b){return b||(b=1),function(c,d){if("}"==c.peek())if(1==b)return d.tokenize.pop(),d.tokenize[d.tokenize.length-1](c,d);else d.tokenize[d.tokenize.length-1]=a(b-1);else"{"==c.peek()&&(d.tokenize[d.tokenize.length-1]=a(b+1));return k(c,d)}}());break}else if(/[@\$]/.test(e.peek())){f.tokenize.push(function(){var a=!1;return function(b,c){return a?(c.tokenize.pop(),c.tokenize[c.tokenize.length-1](b,c)):(a=!0,k(b,c))}}());break}}h=!h&&"\\"==g}return b}}function m(a,b){return a.sol()&&a.match("=end")&&a.eol()&&b.tokenize.pop(),a.skipToEnd(),"comment"}let n={name:"ruby",startState:function(a){return{tokenize:[k],indented:0,context:{type:"top",indented:-a},continuedLine:!1,lastTok:null,varList:!1}},token:function(a,b){c=null,a.sol()&&(b.indented=a.indentation());var d,h=b.tokenize[b.tokenize.length-1](a,b),i=c;if("variable"==h){var j=a.current();"keyword"==(h="."==b.lastTok?"property":e.propertyIsEnumerable(a.current())?"keyword":/^[A-Z]/.test(j)?"tag":"def"==b.lastTok||"class"==b.lastTok||b.varList?"def":"variable")&&(i=j,f.propertyIsEnumerable(j)?d="indent":g.propertyIsEnumerable(j)?d="dedent":("if"==j||"unless"==j)&&a.column()==a.indentation()?d="indent":"do"==j&&b.context.indented<b.indented&&(d="indent"))}return(c||h&&"comment"!=h)&&(b.lastTok=i),"|"==c&&(b.varList=!b.varList),"indent"==d||/[\(\[\{]/.test(c)?b.context={prev:b.context,type:c||h,indented:b.indented}:("dedent"==d||/[\)\]\}]/.test(c))&&b.context.prev&&(b.context=b.context.prev),a.eol()&&(b.continuedLine="\\"==c||"operator"==h),h},indent:function(a,b,c){if(a.tokenize[a.tokenize.length-1]!=k)return null;var d=b&&b.charAt(0),e=a.context,f=e.type==i[d]||"keyword"==e.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(b);return e.indented+(f?0:c.unit)+(a.continuedLine?c.unit:0)},languageData:{indentOnInput:/^\s*(?:end|rescue|elsif|else|\})$/,commentTokens:{line:"#"},autocomplete:d}}}];

//# sourceMappingURL=06f5f_%40codemirror_legacy-modes_mode_ruby_3dbff613.js.map
module.exports=[591119,a=>{"use strict";a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f]);var b=a.i(669720),c=a.i(368114);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function i({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}},870430,688774,a=>{"use strict";a.s(["Label",()=>g],870430);var b=a.i(669720),c=a.i(229611),d=a.i(717657),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(368114);function g({className:a,...c}){return(0,b.jsx)(e,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}a.s(["Loader2",()=>h],688774);let h=(0,a.i(51827).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},491163,a=>{"use strict";a.s(["Save",()=>b],491163);let b=(0,a.i(51827).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},524805,a=>{"use strict";a.s(["useCreateCourseModuleMutation",()=>b,"useDeleteCourseModuleMutation",()=>h,"useGetCourseModuleByIdQuery",()=>f,"useGetCourseModulesByCourseIdQuery",()=>e,"useUpdateCourseModuleMutation",()=>g]);let{useCreateCourseModuleMutation:b,useGetCourseModulesQuery:c,useGetMyCourseModulesQuery:d,useGetCourseModulesByCourseIdQuery:e,useGetCourseModuleByIdQuery:f,useUpdateCourseModuleMutation:g,useDeleteCourseModuleMutation:h}=a.i(151944).baseApi.injectEndpoints({endpoints:a=>({createCourseModule:a.mutation({query:a=>({url:"/course-modules/create",method:"POST",data:a}),invalidatesTags:["CourseModule","Course"]}),getCourseModules:a.query({query:a=>({url:"/course-modules",method:"GET",params:a}),providesTags:["CourseModule","Course"]}),getMyCourseModules:a.query({query:a=>({url:"/course-modules/my-modules",method:"GET",params:a}),providesTags:["CourseModule","Course"]}),getCourseModulesByCourseId:a.query({query:a=>({url:`/course-modules/by-course/${a}`,method:"GET"}),providesTags:["CourseModule","Course"]}),getCourseModuleById:a.query({query:a=>({url:`/course-modules/${a}`,method:"GET"}),providesTags:["CourseModule","Course"]}),updateCourseModule:a.mutation({query:({data:a,id:b})=>({url:`/course-modules/${b}`,method:"PUT",data:a}),invalidatesTags:["CourseModule","Course"]}),deleteCourseModule:a.mutation({query:a=>({url:`/course-modules/${a}`,method:"DELETE"}),invalidatesTags:["CourseModule","Course"]})})})},152962,a=>{"use strict";a.s(["default",()=>q]);var b=a.i(669720),c=a.i(699570),d=a.i(591119),e=a.i(441921),f=a.i(866718),g=a.i(524805),h=a.i(765749),i=a.i(688774),j=a.i(491163),k=a.i(702485),l=a.i(229611),m=a.i(39457),n=a.i(95811),o=a.i(90987);let p=o.z.object({title:o.z.string().min(2,{message:"Module title must be at least 2 characters."}),duration:o.z.string().optional(),order:o.z.number().min(1,{message:"Order must be at least 1."})});function q(){let a=(0,k.useParams)();console.log(a);let o=(0,k.useRouter)(),[q,r]=(0,l.useState)(!1),{data:s,isLoading:t}=(0,g.useGetCourseModuleByIdQuery)(a.moduleId),[u,{isLoading:v}]=(0,g.useUpdateCourseModuleMutation)();console.log(s);let w=(0,m.useForm)({resolver:(0,h.zodResolver)(p),defaultValues:{title:"",duration:"",order:0}});(0,l.useEffect)(()=>{w.reset({title:s?.data?.title,duration:s?.data?.duration,order:s?.data?.moduleNumber})},[s,w]);let x=async b=>{r(!0);try{let c={...b,id:a.moduleId,courseId:a.id,moduleNumber:b.order};await u({data:c,id:a.moduleId}).unwrap(),console.log("Updating module:",c),n.toast.success("Module updated successfully!"),o.push(`/instructor-dashboard/courses/${a.slug}/modules`)}catch(a){n.toast.error("Failed to update module. Please try again."),console.error(a)}finally{r(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("div",{className:"flex items-center gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Module"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Update module information"})]})})}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"Module Information"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)(e.Form,{...w,children:(0,b.jsxs)("form",{onSubmit:w.handleSubmit(x),className:"space-y-6",children:[(0,b.jsx)(e.FormField,{control:w.control,name:"title",render:({field:a})=>(0,b.jsxs)(e.FormItem,{children:[(0,b.jsx)(e.FormLabel,{children:"Module Title *"}),(0,b.jsx)(e.FormControl,{children:(0,b.jsx)(f.Input,{placeholder:"Enter module title",...a})}),(0,b.jsx)(e.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(e.FormField,{control:w.control,name:"order",render:({field:a})=>(0,b.jsxs)(e.FormItem,{children:[(0,b.jsx)(e.FormLabel,{children:"Order *"}),(0,b.jsx)(e.FormControl,{children:(0,b.jsx)(f.Input,{type:"number",min:"1",placeholder:"Enter module order",...a,onChange:b=>a.onChange(parseInt(b.target.value)||1)})}),(0,b.jsx)(e.FormMessage,{})]})}),(0,b.jsx)(e.FormField,{control:w.control,name:"duration",render:({field:a})=>(0,b.jsxs)(e.FormItem,{children:[(0,b.jsx)(e.FormLabel,{children:"Duration (Optional)"}),(0,b.jsx)(e.FormControl,{children:(0,b.jsx)(f.Input,{placeholder:"e.g., 2 hours, 3 weeks",...a})}),(0,b.jsx)(e.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,b.jsx)(c.Button,{type:"button",variant:"outline",onClick:()=>o.back(),children:"Cancel"}),(0,b.jsx)(c.Button,{type:"submit",disabled:q,children:q?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Save,{className:"w-4 h-4 mr-2"}),"Update Module"]})})]})]})})})]})]})})}}];

//# sourceMappingURL=_8ded92e1._.js.map
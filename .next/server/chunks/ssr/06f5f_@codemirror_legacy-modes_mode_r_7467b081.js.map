{"version":3,"sources":["turbopack:///[project]/node_modules/.pnpm/@codemirror+legacy-modes@6.5.1/node_modules/@codemirror/legacy-modes/mode/r.js"],"sourcesContent":["function wordObj(words) {\n  var res = {};\n  for (var i = 0; i < words.length; ++i) res[words[i]] = true;\n  return res;\n}\nvar commonAtoms = [\"NULL\", \"NA\", \"Inf\", \"NaN\", \"NA_integer_\", \"NA_real_\", \"NA_complex_\", \"NA_character_\", \"TRUE\", \"FALSE\"];\nvar commonBuiltins = [\"list\", \"quote\", \"bquote\", \"eval\", \"return\", \"call\", \"parse\", \"deparse\"];\nvar commonKeywords = [\"if\", \"else\", \"repeat\", \"while\", \"function\", \"for\", \"in\", \"next\", \"break\"];\nvar commonBlockKeywords = [\"if\", \"else\", \"repeat\", \"while\", \"function\", \"for\"];\n\nvar atoms = wordObj(commonAtoms);\nvar builtins = wordObj(commonBuiltins);\nvar keywords = wordObj(commonKeywords);\nvar blockkeywords = wordObj(commonBlockKeywords);\nvar opChars = /[+\\-*\\/^<>=!&|~$:]/;\nvar curPunc;\n\nfunction tokenBase(stream, state) {\n  curPunc = null;\n  var ch = stream.next();\n  if (ch == \"#\") {\n    stream.skipToEnd();\n    return \"comment\";\n  } else if (ch == \"0\" && stream.eat(\"x\")) {\n    stream.eatWhile(/[\\da-f]/i);\n    return \"number\";\n  } else if (ch == \".\" && stream.eat(/\\d/)) {\n    stream.match(/\\d*(?:e[+\\-]?\\d+)?/);\n    return \"number\";\n  } else if (/\\d/.test(ch)) {\n    stream.match(/\\d*(?:\\.\\d+)?(?:e[+\\-]\\d+)?L?/);\n    return \"number\";\n  } else if (ch == \"'\" || ch == '\"') {\n    state.tokenize = tokenString(ch);\n    return \"string\";\n  } else if (ch == \"`\") {\n    stream.match(/[^`]+`/);\n    return \"string.special\";\n  } else if (ch == \".\" && stream.match(/.(?:[.]|\\d+)/)) {\n    return \"keyword\";\n  } else if (/[a-zA-Z\\.]/.test(ch)) {\n    stream.eatWhile(/[\\w\\.]/);\n    var word = stream.current();\n    if (atoms.propertyIsEnumerable(word)) return \"atom\";\n    if (keywords.propertyIsEnumerable(word)) {\n      // Block keywords start new blocks, except 'else if', which only starts\n      // one new block for the 'if', no block for the 'else'.\n      if (blockkeywords.propertyIsEnumerable(word) &&\n          !stream.match(/\\s*if(\\s+|$)/, false))\n        curPunc = \"block\";\n      return \"keyword\";\n    }\n    if (builtins.propertyIsEnumerable(word)) return \"builtin\";\n    return \"variable\";\n  } else if (ch == \"%\") {\n    if (stream.skipTo(\"%\")) stream.next();\n    return \"variableName.special\";\n  } else if (\n    (ch == \"<\" && stream.eat(\"-\")) ||\n      (ch == \"<\" && stream.match(\"<-\")) ||\n      (ch == \"-\" && stream.match(/>>?/))\n  ) {\n    return \"operator\";\n  } else if (ch == \"=\" && state.ctx.argList) {\n    return \"operator\";\n  } else if (opChars.test(ch)) {\n    if (ch == \"$\") return \"operator\";\n    stream.eatWhile(opChars);\n    return \"operator\";\n  } else if (/[\\(\\){}\\[\\];]/.test(ch)) {\n    curPunc = ch;\n    if (ch == \";\") return \"punctuation\";\n    return null;\n  } else {\n    return null;\n  }\n}\n\nfunction tokenString(quote) {\n  return function(stream, state) {\n    if (stream.eat(\"\\\\\")) {\n      var ch = stream.next();\n      if (ch == \"x\") stream.match(/^[a-f0-9]{2}/i);\n      else if ((ch == \"u\" || ch == \"U\") && stream.eat(\"{\") && stream.skipTo(\"}\")) stream.next();\n      else if (ch == \"u\") stream.match(/^[a-f0-9]{4}/i);\n      else if (ch == \"U\") stream.match(/^[a-f0-9]{8}/i);\n      else if (/[0-7]/.test(ch)) stream.match(/^[0-7]{1,2}/);\n      return \"string.special\";\n    } else {\n      var next;\n      while ((next = stream.next()) != null) {\n        if (next == quote) { state.tokenize = tokenBase; break; }\n        if (next == \"\\\\\") { stream.backUp(1); break; }\n      }\n      return \"string\";\n    }\n  };\n}\n\nvar ALIGN_YES = 1, ALIGN_NO = 2, BRACELESS = 4\n\nfunction push(state, type, stream) {\n  state.ctx = {type: type,\n               indent: state.indent,\n               flags: 0,\n               column: stream.column(),\n               prev: state.ctx};\n}\nfunction setFlag(state, flag) {\n  var ctx = state.ctx\n  state.ctx = {type: ctx.type,\n               indent: ctx.indent,\n               flags: ctx.flags | flag,\n               column: ctx.column,\n               prev: ctx.prev}\n}\nfunction pop(state) {\n  state.indent = state.ctx.indent;\n  state.ctx = state.ctx.prev;\n}\n\nexport const r = {\n  name: \"r\",\n  startState: function(indentUnit) {\n    return {tokenize: tokenBase,\n            ctx: {type: \"top\",\n                  indent: -indentUnit,\n                  flags: ALIGN_NO},\n            indent: 0,\n            afterIdent: false};\n  },\n\n  token: function(stream, state) {\n    if (stream.sol()) {\n      if ((state.ctx.flags & 3) == 0) state.ctx.flags |= ALIGN_NO\n      if (state.ctx.flags & BRACELESS) pop(state)\n      state.indent = stream.indentation();\n    }\n    if (stream.eatSpace()) return null;\n    var style = state.tokenize(stream, state);\n    if (style != \"comment\" && (state.ctx.flags & ALIGN_NO) == 0) setFlag(state, ALIGN_YES)\n\n    if ((curPunc == \";\" || curPunc == \"{\" || curPunc == \"}\") && state.ctx.type == \"block\") pop(state);\n    if (curPunc == \"{\") push(state, \"}\", stream);\n    else if (curPunc == \"(\") {\n      push(state, \")\", stream);\n      if (state.afterIdent) state.ctx.argList = true;\n    }\n    else if (curPunc == \"[\") push(state, \"]\", stream);\n    else if (curPunc == \"block\") push(state, \"block\", stream);\n    else if (curPunc == state.ctx.type) pop(state);\n    else if (state.ctx.type == \"block\" && style != \"comment\") setFlag(state, BRACELESS)\n    state.afterIdent = style == \"variable\" || style == \"keyword\";\n    return style;\n  },\n\n  indent: function(state, textAfter, cx) {\n    if (state.tokenize != tokenBase) return 0;\n    var firstChar = textAfter && textAfter.charAt(0), ctx = state.ctx,\n        closing = firstChar == ctx.type;\n    if (ctx.flags & BRACELESS) ctx = ctx.prev\n    if (ctx.type == \"block\") return ctx.indent + (firstChar == \"{\" ? 0 : cx.unit);\n    else if (ctx.flags & ALIGN_YES) return ctx.column + (closing ? 0 : 1);\n    else return ctx.indent + (closing ? 0 : cx.unit);\n  },\n\n  languageData: {\n    wordChars: \".\",\n    commentTokens: {line: \"#\"},\n    autocomplete: commonAtoms.concat(commonBuiltins, commonKeywords)\n  }\n};\n"],"names":[],"mappings":"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","ignoreList":[0]}